{"version":3,"sources":["assets/img/flame-sign-up.png","assets/img/mirage-list-is-empty.png","assets/img/user.jpg","assets/img/task-done.png","assets/img/bermuda-welcome.png","contexts/auth.js","components/BaseContainer/styles.js","components/BaseContainer/index.js","components/Card/styles.js","components/Card/index.js","pages/SignIn/styles.js","components/Input/styles.js","components/Input/index.js","components/Button/styles.js","components/Button/index.js","components/SizedBox/styles.js","components/SizedBox/index.js","components/VectorContainer/styles.js","components/VectorContainer/index.js","services/api.js","pages/SignIn/SignIn.js","utils/constants.js","themes/index.js","pages/Surveys/styles.js","components/SurveyCard/styles.js","components/SurveyCard/index.js","components/Header/styles.js","components/Avatar/styles.js","components/Avatar/index.js","components/Header/index.js","pages/Surveys/index.js","components/BackLink/styles.js","components/BackLink/index.js","pages/SignUp/SignUp.js","pages/Results/styles.js","components/AnswerItem/styles.js","components/AnswerItem/index.js","pages/Results/index.js","pages/Survey/styles.js","pages/Survey/index.js","pages/CreateSurvey/styles.js","pages/CreateSurvey/index.js","components/ProtectedRoutes/adminProtected.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","AuthContext","React","createContext","Container","styled","div","Card","children","rest","BaseContainer","props","theme","colors","backgroundColor","Title","h2","secondary","Buttons","TCard","ErrorMessage","p","I","i","TInput","input","Label","label","Input","icon","id","className","type","htmlFor","Btn","button","color","primary","textColor","rounded","block","Button","leftIcon","rightIcon","large","disabled","height","width","SizedBox","size","clickable","Img","img","VectorContainer","instance","require","create","baseURL","userStorage","localStorage","getItem","JSON","parse","defaults","headers","common","Authorization","token","SignIn","history","useContext","setUser","user","useState","email","setEmail","password","setPassword","error","setError","login","a","axiosInstance","post","response","data","userData","isLoggedIn","setItem","stringify","push","message","handleKeyPress","event","key","src","signin_vector","onSubmit","name","value","onChange","e","target","onKeyPress","onClick","danger","purple","textNormal","textLight","red","green","SurveyGrid","EmptyWarning","EmptyWarningText","h6","SurveyContainer","Category","Heading","TitleContainer","Body","Description","Footer","withRouter","title","numQuestions","status","refetchData","surveyId","isIdle","toUpperCase","isActive","isAdmin","role","changeSurveyStatus","axiosInstace","put","then","toast","success","catch","LeftContainer","RightContainer","Center","User","LogoutButton","span","Avatar","createSurvey","showUser","showHome","leftButtons","userInfo","style","removeItem","undefined","user_profile","Surveys","loading","setLoading","closedSurveys","setClosedSurveys","openSurveys","setOpenSurveys","idleSurveys","setIdleSurveys","fetchData","get","filter","s","useEffect","length","empty_list","map","survey","questions","BackText","themes","BackLink","SignUp","username","setUsername","setName","register","required","Question","selected","percentage","parseInt","AnswerTextContainer","AnswerText","ResultPercentage","AnswerItem","text","answerId","questionId","selections","onSelect","showResults","resultPercent","Survey","match","setData","params","description","question","total","result","reduce","acc","cur","options","option","mount","Head","setSelections","isLoading","setIsLoading","api","goToNextPage","getNextPage","getQuestionId","url","getUrlWithoutLastPart","exact","path","goBack","bermuda_welcome","taken","center","done_vector","requestBody","answers","Object","entries","answer","err","split","slice","join","arr","currentPageNumber","findIndex","el","nextPage","SideBar","SideBarItem","QuestionItemContainer","QuestionTitle","QuestionAction","QuestionCard","TButton","QuestionTitleInput","OptionInputContainer","OptionInput","QuestionTitleInputContainer","OptionAction","SurveyName","SurveyInput","defaultValue","CreateSurvey","setQuestions","selectedQuestion","setSelectedQuestion","setOptions","questionTitle","setQuestionTitle","surveyTitle","setSurveyTitle","debounce","index","newOptions","newQuestions","updateOptions","doDebounce","newTitle","updateQuestionTitle","saveSurvey","q","uniqBy","some","o","placeholder","handleSelected","maxLength","splice","deleteQuestion","op","handleOptionsChange","deleteOption","ProtectedRoute","Component","component","render","to","App","Provider","basename","Results","Boolean","window","location","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.5593f622.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/flame-sign-up.90821be9.png\";","module.exports = __webpack_public_path__ + \"static/media/mirage-list-is-empty.f9f126a1.png\";","module.exports = __webpack_public_path__ + \"static/media/user.1ae3cd84.jpg\";","module.exports = __webpack_public_path__ + \"static/media/task-done.b351d20f.png\";","module.exports = __webpack_public_path__ + \"static/media/bermuda-welcome.9963302c.png\";","import React from \"react\";\r\nconst AuthContext = React.createContext();\r\n\r\nexport default AuthContext;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  max-width: 1200px;\r\n  align-self: center;\r\n  justify-self: center;\r\n  flex: 1;\r\n`;\r\n","import { Container } from \"./styles\";\r\n\r\nexport default Container;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  background-color: rgba(200, 200, 200, 0.1);\r\n  padding: 50px;\r\n  margin: 20px;\r\n  box-shadow: 0px 5px 10px rgba(200, 150, 150, 0.1);\r\n`;\r\n","import React from \"react\";\r\n\r\nimport { Container } from \"./styles\";\r\n\r\nexport default function Card({ children, ...rest }) {\r\n  return <Container {...rest}>{children}</Container>;\r\n}\r\n","import styled from \"styled-components\";\r\nimport BaseContainer from \"../../components/BaseContainer\";\r\nimport TCard from \"../../components/Card\";\r\n\r\nexport const Container = styled(BaseContainer)`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex: 1;\r\n  flex-direction: column;\r\n  background-color: ${props => props.theme.colors.backgroundColor};\r\n  width: 100%;\r\n  margin-top: 50px;\r\n  margin-bottom: 50px;\r\n`;\r\n\r\nexport const Title = styled.h2`\r\n  color: ${props => props.theme.colors.secondary};\r\n`;\r\n\r\nexport const Buttons = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-self: stretch;\r\n  justify-content: center;\r\n`;\r\n\r\nexport const Card = styled(TCard)`\r\n  max-width: 500px;\r\n  width: 90%;\r\n`;\r\n\r\nexport const ErrorMessage = styled.p`\r\n  color: red;\r\n`;\r\n","import styled from \"styled-components\";\r\n\r\nexport const I = styled.i`\r\n  color: ${props => props.theme.colors.secondary};\r\n`;\r\n\r\nexport const TInput = styled.input`\r\n  color: ${props => props.theme.colors.secondary};\r\n`;\r\n\r\nexport const Label = styled.label`\r\n  color: ${props => props.theme.colors.secondary};\r\n`;\r\n","import React from \"react\";\r\nimport \"./index.css\";\r\nimport { I, TInput, Label } from \"./styles\";\r\n\r\nexport default function Input({ icon, label, id, ...rest }) {\r\n  return (\r\n    <div className=\"input-field\">\r\n      {icon && <I className=\"material-icons prefix\">{icon}</I>}\r\n      <TInput id={id} type=\"text\" className=\"validate\" {...rest} />\r\n      <Label htmlFor={id}>{label}</Label>\r\n    </div>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport const Btn = styled.button`\r\n  background-color: ${props =>\r\n    props.color ? props.theme.colors[props.color] : props.theme.colors.primary};\r\n  color: ${props =>\r\n    props.textColor ? props.textColor : props.theme.colors.secondary};\r\n  border-radius: ${props => (props.rounded ? \"50px\" : \"2px\")};\r\n\r\n  &:hover,\r\n  &:focus,\r\n  &:active {\r\n    background-color: ${props =>\r\n      props.color\r\n        ? props.theme.colors[props.color]\r\n        : props.theme.colors.primary} !important;\r\n    filter: brightness(0.9);\r\n  }\r\n\r\n  ${props =>\r\n    props.block &&\r\n    `\r\n    width: 100%;\r\n  `}\r\n`;\r\n","import React from \"react\";\r\n\r\nimport { Btn } from \"./styles\";\r\n\r\nexport default function Button({\r\n  leftIcon,\r\n  rightIcon,\r\n  children,\r\n  large,\r\n  block,\r\n  disabled,\r\n  className,\r\n  ...rest\r\n}) {\r\n  return (\r\n    <Btn\r\n      {...rest}\r\n      block={block}\r\n      className={`btn waves-effect waves-light z-depth-0 ${large &&\r\n        \"btn-large\"} ${disabled && \"disabled\"} ${className}`}\r\n    >\r\n      {leftIcon && <i className=\"material-icons left\">{leftIcon}</i>}\r\n      {children}\r\n      {rightIcon && <i className=\"material-icons right\">{rightIcon}</i>}\r\n    </Btn>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  height: ${props => props.height};\r\n  width: ${props => props.width};\r\n`;\r\n","import React from \"react\";\r\n\r\nimport { Container } from \"./styles\";\r\n\r\nexport default function SizedBox({ ...props }) {\r\n  return <Container {...props} />;\r\n}\r\n","import styled from \"styled-components\";\r\nexport const Container = styled.div`\r\n  object-fit: contain;\r\n  width: ${props => (props.size ? props.size : \"200px\")};\r\n  ${props => props.clickable && \"cursor: pointer\"}\r\n`;\r\n\r\nexport const Img = styled.img`\r\n  width: 100%;\r\n`;\r\n","import React from \"react\";\r\n\r\nimport { Container, Img } from \"./styles\";\r\n\r\nexport default function VectorContainer({\r\n  size = \"200px\",\r\n  clickable,\r\n  ...rest\r\n}) {\r\n  return (\r\n    <Container size={size} clickable={clickable}>\r\n      <Img {...rest} />\r\n    </Container>\r\n  );\r\n}\r\n","const axios = require(\"axios\");\r\n\r\nconst instance = axios.create({\r\n  baseURL: \"https://chamatt-survey-api.herokuapp.com/\"\r\n});\r\nlet userStorage = localStorage.getItem(\"user\");\r\n\r\nif (userStorage) {\r\n  userStorage = JSON.parse(userStorage);\r\n  instance.defaults.headers.common = {\r\n    Authorization: `Bearer ${userStorage.token}`\r\n  };\r\n}\r\n\r\nexport default instance;\r\n","import React, { useContext, useState } from \"react\";\r\nimport { Container, Title, Buttons, Card, ErrorMessage } from \"./styles\";\r\nimport Input from \"../../components/Input\";\r\nimport Button from \"../../components/Button\";\r\nimport SizedBox from \"../../components/SizedBox\";\r\nimport VectorContainer from \"../../components/VectorContainer\";\r\nimport signin_vector from \"../../assets/img/flame-sign-up.png\";\r\nimport AuthContext from \"../../contexts/auth\";\r\nimport axiosInstance from \"../../services/api\";\r\nimport { URL_ROOT, URL_REGISTER } from \"../../utils/constants\";\r\n\r\nexport default function SignIn({ history }) {\r\n  const { setUser, user } = useContext(AuthContext);\r\n  const [email, setEmail] = useState();\r\n  const [password, setPassword] = useState();\r\n  const [error, setError] = useState();\r\n\r\n  const login = async (email, password) => {\r\n    try {\r\n      const response = await axiosInstance.post(\"/users/auth\", {\r\n        email,\r\n        password\r\n      });\r\n\r\n      axiosInstance.defaults.headers.common = {\r\n        Authorization: `Bearer ${response.data.token}`\r\n      };\r\n\r\n      const userData = {\r\n        ...user,\r\n        isLoggedIn: true,\r\n        data: response.data.user,\r\n        token: response.data.token\r\n      };\r\n\r\n      setUser(userData);\r\n\r\n      localStorage.setItem(\"user\", JSON.stringify(userData));\r\n\r\n      history.push(URL_ROOT);\r\n    } catch ({ response }) {\r\n      setError(response?.data?.message || \"Unexpected error\");\r\n    }\r\n  };\r\n\r\n  const handleKeyPress = event => {\r\n    if (event.key === \"Enter\") {\r\n      login(email, password);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <VectorContainer src={signin_vector}></VectorContainer>\r\n      <Title>Sign In</Title>\r\n      <Card>\r\n        <form className=\"col s12\" onSubmit={() => login(email, password)}>\r\n          <Input\r\n            id=\"email\"\r\n            name=\"email\"\r\n            icon=\"mail_outline\"\r\n            type=\"email\"\r\n            label=\"Email\"\r\n            value={email}\r\n            onChange={e => setError() || setEmail(e.target.value)}\r\n            onKeyPress={handleKeyPress}\r\n          ></Input>\r\n          <Input\r\n            id=\"password\"\r\n            name=\"password\"\r\n            icon=\"lock_outline\"\r\n            type=\"password\"\r\n            label=\"Password\"\r\n            value={password}\r\n            onChange={e => setError() || setPassword(e.target.value)}\r\n            onKeyPress={handleKeyPress}\r\n          ></Input>\r\n        </form>\r\n        <ErrorMessage>{error}</ErrorMessage>\r\n        <SizedBox height=\"20px\" />\r\n        <Buttons>\r\n          <Button onClick={() => login(email, password)}>Sign In</Button>\r\n          <SizedBox height=\"20px\" />\r\n          <Button onClick={() => history.push(URL_REGISTER)} color=\"purple\">\r\n            Create Account\r\n          </Button>\r\n        </Buttons>\r\n      </Card>\r\n    </Container>\r\n  );\r\n}\r\n","export const COORDINATOR = \"COORDINATOR\";\r\nexport const IDLE = \"IDLE\";\r\nexport const ACTIVE = \"ACTIVE\";\r\nexport const CLOSED = \"CLOSED\";\r\nexport const CANCEL = \"CANCEL\";\r\n\r\n// URL\r\nexport const URL_ROOT = \"/\";\r\nexport const URL_LOGIN = \"/login\";\r\nexport const URL_CREATE = \"/create\";\r\nexport const URL_REGISTER = \"/register\";\r\nexport const URL_SURVEY = \"/survey\";\r\nexport const URL_SURVEYS = \"/surveys\";\r\nexport const URL_RESULTS = \"/results\";\r\n","export default {\r\n  colors: {\r\n    backgroundColor: \"#3646AA\",\r\n    primary: \"#5CD4A0\",\r\n    secondary: \"#F2F2F2\",\r\n    danger: \"#9B291F\",\r\n    purple: \"#8e44ad\",\r\n    textNormal: \"#3C4659\",\r\n    textLight: \"#ADADC4\",\r\n    red: \"#8F0000\",\r\n    green: \"#3FA69A\"\r\n  }\r\n};\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  align-self: center;\r\n  flex: 1;\r\n  flex-direction: column;\r\n  background-color: ${props => props.theme.colors.backgroundColor};\r\n  max-width: 1200px;\r\n  width: 100%;\r\n  margin-bottom: 50px;\r\n`;\r\n\r\nexport const SurveyGrid = styled.div`\r\n  display: flex;\r\n  justify-content: stretch;\r\n  align-items: flex-start;\r\n  flex-direction: row;\r\n  flex-wrap: wrap;\r\n  width: 100%;\r\n`;\r\n\r\nexport const Title = styled.h2`\r\n  color: ${props => props.theme.colors.secondary};\r\n`;\r\n\r\nexport const EmptyWarning = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n`;\r\n\r\nexport const EmptyWarningText = styled.h6`\r\n  color: ${props => props.theme.colors.secondary};\r\n`;\r\n","import styled from \"styled-components\";\r\n\r\nexport const SurveyContainer = styled.div`\r\n  background-color: ${props => props.theme.colors.secondary};\r\n  box-shadow: 0px 5px 10px rgba(200, 150, 150, 0.1);\r\n  margin-right: 15px;\r\n  margin-left: 15px;\r\n  padding: 40px;\r\n  border-radius: 15px;\r\n  margin-bottom: 30px;\r\n\r\n  @media (min-width: 1025px) {\r\n    width: calc(33% - 30px);\r\n    flex-basis: calc(33% - 30px);\r\n  }\r\n  @media (max-width: 1024px) {\r\n    width: calc(50% - 30px);\r\n    flex-basis: calc(50% - 30px);\r\n  }\r\n  @media (max-width: 768px) {\r\n    width: calc(100% - 30px);\r\n    flex-basis: calc(100% - 30px);\r\n  }\r\n`;\r\n\r\nexport const Title = styled.p`\r\n  font-weight: bold;\r\n  color: ${props => props.theme.colors.textNormal};\r\n  font-size: 1.3rem;\r\n  margin: 0;\r\n`;\r\n\r\nexport const ImgContainer = styled.div`\r\n  height: 80px;\r\n  max-width: 150px;\r\n  margin-right: 20px;\r\n`;\r\n\r\nexport const Img = styled.img`\r\n  object-fit: contain;\r\n  height: 100%;\r\n  border-radius: 15px;\r\n`;\r\n\r\nexport const Category = styled.p`\r\n  color: ${props => props.theme.colors.textNormal};\r\n  font-size: 1.1rem;\r\n  margin: 0;\r\n`;\r\nexport const Heading = styled.div`\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  flex-direction: row;\r\n  overflow: hidden;\r\n`;\r\nexport const TitleContainer = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: flex-start;\r\n  flex-direction: column;\r\n`;\r\n\r\nexport const Body = styled.div``;\r\n\r\nexport const Description = styled.p`\r\n  font-size: 1rem;\r\n  color: ${props => props.theme.colors.textNormal};\r\n`;\r\n\r\nexport const Footer = styled.div`\r\n  padding-top: 10px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: stretch;\r\n`;\r\n","import React, { useContext } from \"react\";\r\n\r\nimport {\r\n  SurveyContainer,\r\n  Title,\r\n  TitleContainer,\r\n  Category,\r\n  Heading,\r\n  Body,\r\n  Description,\r\n  Footer\r\n} from \"./styles\";\r\nimport Button from \"../Button\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport AuthContext from \"../../contexts/auth\";\r\nimport axiosInstace from \"../../services/api\";\r\nimport SizedBox from \"../../components/SizedBox\";\r\nimport {\r\n  COORDINATOR,\r\n  IDLE,\r\n  ACTIVE,\r\n  URL_SURVEY,\r\n  CLOSED,\r\n  URL_SURVEYS,\r\n  URL_RESULTS\r\n} from \"../../utils/constants\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst SurveyCard = ({\r\n  history,\r\n  title = \"IT Executive Compensation Study\",\r\n  numQuestions,\r\n  status,\r\n  refetchData = () => {},\r\n  surveyId = \"123\"\r\n}) => {\r\n  const { user } = useContext(AuthContext);\r\n  const isIdle = status?.toUpperCase() === IDLE;\r\n  const isActive = status?.toUpperCase() === ACTIVE;\r\n  const isAdmin = user?.data?.role?.toUpperCase() === COORDINATOR;\r\n  const changeSurveyStatus = status => {\r\n    return axiosInstace\r\n      .put(`${URL_SURVEYS}/status/` + surveyId, { status })\r\n      .then(refetchData);\r\n  };\r\n\r\n  const handleChangeStatusToActive = () => {\r\n    changeSurveyStatus(ACTIVE)\r\n      .then(() => toast.success(\"Survey moved to active.\"))\r\n      .catch(() => toast.error(\"Error moving survey to active.\"));\r\n  };\r\n  const handleChangeStatusToClosed = () => {\r\n    changeSurveyStatus(CLOSED)\r\n      .then(() => toast.success(\"Survey moved to closed.\"))\r\n      .catch(() => toast.error(\"Error moving survey to closed.\"));\r\n  };\r\n\r\n  return (\r\n    <SurveyContainer>\r\n      <Heading>\r\n        <TitleContainer>\r\n          <Category>\r\n            <i className=\"material-icons left\">event_note</i>Survey\r\n          </Category>\r\n          <Title>{title}</Title>\r\n        </TitleContainer>\r\n      </Heading>\r\n      <Body>\r\n        <Description>\r\n          {numQuestions} question{numQuestions !== 1 ? \"s\" : \"\"} ({0.25 * numQuestions} minute{numQuestions !== 4 ? \"s\" : \"\"})\r\n        </Description>\r\n      </Body>\r\n      <Footer>\r\n        {isIdle ? (\r\n          <Button\r\n            color={\"primary\"}\r\n            rounded\r\n            onClick={handleChangeStatusToActive}\r\n          >\r\n            {\"Open Survey\"}\r\n          </Button>\r\n        ) : (\r\n          <Button\r\n            color={isActive ? \"purple\" : \"green\"}\r\n            rounded\r\n            onClick={() =>\r\n              isActive\r\n                ? history.push(`${URL_SURVEY}/${surveyId}`)\r\n                : history.push(`${URL_RESULTS}/${surveyId}`)\r\n            }\r\n          >\r\n            {isActive ? \"Take Survey\" : \"See Results\"}\r\n          </Button>\r\n        )}\r\n        {isAdmin && isActive && (\r\n          <>\r\n            <SizedBox height=\"15px\" />\r\n            <Button color={\"red\"} rounded onClick={handleChangeStatusToClosed}>\r\n              {\"Close Survey\"}\r\n            </Button>\r\n          </>\r\n        )}\r\n      </Footer>\r\n    </SurveyContainer>\r\n  );\r\n};\r\n\r\nexport default withRouter(SurveyCard);\r\n","import styled from \"styled-components\";\r\nimport TCard from \"../Card\";\r\n\r\nexport const Container = styled.div`\r\n  height: 80px;\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 0 30px;\r\n  min-width: 100%;\r\n  margin-top: 30px;\r\n`;\r\n\r\nexport const LeftContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`;\r\nexport const RightContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`;\r\nexport const Center = styled.div`\r\n  position: absolute;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n`;\r\n\r\nexport const Card = styled(TCard)`\r\n  margin: 0;\r\n  padding: 10px;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: center;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  user-select: none;\r\n`;\r\n\r\nexport const User = styled.p`\r\n  margin: 0;\r\n  padding-right: 15px;\r\n  padding-left: 15px;\r\n  color: ${props => props.theme.colors.secondary};\r\n  font-weight: bold;\r\n`;\r\n\r\nexport const LogoutButton = styled.span`\r\n  cursor: pointer;\r\n  color: red;\r\n`;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  border-radius: 50%;\r\n  width: ${props => props.size};\r\n  height: ${props => props.size};\r\n  overflow: hidden;\r\n`;\r\n\r\nexport const Img = styled.img`\r\n  height: 100%;\r\n  width: 100%;\r\n  object-fit: cover;\r\n`;\r\n","import React from \"react\";\r\n\r\nimport { Container, Img } from \"./styles\";\r\n\r\nexport default function Avatar({ src, size, ...rest }) {\r\n  return (\r\n    <Container size={size}>\r\n      <Img src={src} {...rest}></Img>\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useContext } from \"react\";\r\n\r\nimport {\r\n  Container,\r\n  LeftContainer,\r\n  RightContainer,\r\n  Center,\r\n  Card,\r\n  User,\r\n  LogoutButton\r\n} from \"./styles\";\r\nimport Button from \"../Button\";\r\nimport Avatar from \"../Avatar\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport AuthContext from \"../../contexts/auth\";\r\nimport axiosInstance from \"../../services/api\";\r\nimport VectorContainer from \"../../components/VectorContainer\";\r\nimport signin_vector from \"../../assets/img/flame-sign-up.png\";\r\nimport user_profile from \"../../assets/img/user.jpg\";\r\nimport { COORDINATOR, URL_ROOT, URL_LOGIN, URL_CREATE } from '../../utils/constants';\r\n\r\nfunction Header({\r\n  history,\r\n  createSurvey = true,\r\n  showUser = true,\r\n  showHome = false,\r\n  leftButtons\r\n}) {\r\n  const { user, setUser } = useContext(AuthContext);\r\n  const isAdmin = user?.data?.role?.toUpperCase() === COORDINATOR;\r\n  const logout = () => {\r\n    localStorage.removeItem(\"user\");\r\n    setUser({ isLoggedIn: false });\r\n    axiosInstance.defaults.headers.common[\"Authorization\"] = undefined;\r\n  };\r\n\r\n  const userInfo = !user?.isLoggedIn ? (\r\n    <Card onClick={() => history.push(URL_LOGIN)}>\r\n      <User>Login</User>\r\n      <Avatar\r\n        size=\"25px\"\r\n        src={user_profile}\r\n      ></Avatar>\r\n    </Card>\r\n  ) : (\r\n    <p style={{ color: \"white\" }}>\r\n      Welcome, {user.data.name}!{\" \"}\r\n      <LogoutButton onClick={logout}>{\" \"}Logout</LogoutButton>\r\n    </p>\r\n  );\r\n\r\n  return (\r\n    <Container>\r\n      <LeftContainer>\r\n        {showHome ? (\r\n          <LogoutButton onClick={() => history.push(URL_ROOT)}>Home</LogoutButton>\r\n        ) : (\r\n          createSurvey &&\r\n          isAdmin && (\r\n            <Button color=\"green\" onClick={() => history.push(URL_CREATE)}>\r\n              Create New Survey\r\n            </Button>\r\n          )\r\n        )}\r\n        {leftButtons && leftButtons}\r\n      </LeftContainer>\r\n      <Center>\r\n        <VectorContainer\r\n          clickable\r\n          size=\"50px\"\r\n          src={signin_vector}\r\n          onClick={() => history.push(URL_ROOT)}\r\n        ></VectorContainer>\r\n      </Center>\r\n      <RightContainer>{showUser && userInfo}</RightContainer>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default withRouter(Header);\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\n\r\nimport {\r\n  Container,\r\n  SurveyGrid,\r\n  Title,\r\n  EmptyWarning,\r\n  EmptyWarningText\r\n} from \"./styles\";\r\nimport SurveyCard from \"../../components/SurveyCard\";\r\nimport Header from \"../../components/Header\";\r\nimport SizedBox from \"../../components/SizedBox\";\r\nimport axiosInstace from \"../../services/api\";\r\nimport AuthContext from \"../../contexts/auth\";\r\nimport VectorContainer from \"../../components/VectorContainer\";\r\nimport empty_list from \"../../assets/img/mirage-list-is-empty.png\";\r\nimport { CLOSED, IDLE, ACTIVE } from '../../utils/constants';\r\n\r\nexport default function Surveys() {\r\n  const [loading, setLoading] = useState(true);\r\n  const [closedSurveys, setClosedSurveys] = useState();\r\n  const [openSurveys, setOpenSurveys] = useState();\r\n  const [idleSurveys, setIdleSurveys] = useState();\r\n  const { user } = useContext(AuthContext);\r\n\r\n  const fetchData = () => {\r\n    axiosInstace\r\n      .get(\"/surveys/\")\r\n      .then(response => {\r\n        setLoading(false);\r\n        setClosedSurveys(response?.data?.filter(s => s.status === CLOSED));\r\n        setOpenSurveys(response?.data?.filter(s => s.status === ACTIVE));\r\n        setIdleSurveys(response?.data?.filter(s => s.status === IDLE));\r\n      })\r\n      .catch(({ response }) => {\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  useEffect(fetchData, [user]);\r\n\r\n  return (\r\n    <Container>\r\n      <Header />\r\n      <>\r\n        <SizedBox height=\"50px\"></SizedBox>\r\n        <Title>Active Surveys</Title>\r\n        <SizedBox height=\"20px\"></SizedBox>\r\n        {!openSurveys?.length && (\r\n          <EmptyWarning>\r\n            <VectorContainer src={empty_list} />\r\n            <EmptyWarningText> No Active Surveys Available</EmptyWarningText>\r\n          </EmptyWarning>\r\n        )}\r\n        <SurveyGrid>\r\n          {!loading &&\r\n            openSurveys?.length &&\r\n            openSurveys?.map(survey => (\r\n              <SurveyCard\r\n                key={survey.id}\r\n                title={survey.title}\r\n                surveyId={survey.id}\r\n                numQuestions={survey.questions.length}\r\n                status={survey.status}\r\n                refetchData={fetchData}\r\n              />\r\n            ))}\r\n        </SurveyGrid>\r\n      </>\r\n      {!loading && idleSurveys?.length > 0 && (\r\n        <>\r\n          <SizedBox height=\"50px\"></SizedBox>\r\n          <Title>Idle Surveys</Title>\r\n          <SizedBox height=\"20px\"></SizedBox>\r\n          <SurveyGrid>\r\n            {idleSurveys?.map(survey => (\r\n              <SurveyCard\r\n                key={survey.id}\r\n                title={survey.title}\r\n                surveyId={survey.id}\r\n                numQuestions={survey.questions.length}\r\n                status={survey.status}\r\n                refetchData={fetchData}\r\n              />\r\n            ))}\r\n          </SurveyGrid>\r\n        </>\r\n      )}\r\n      <>\r\n        <SizedBox height=\"50px\"></SizedBox>\r\n        <Title>Closed Surveys</Title>\r\n        <SizedBox height=\"20px\"></SizedBox>\r\n        {!closedSurveys?.length && (\r\n          <EmptyWarning>\r\n            <VectorContainer src={empty_list} />\r\n            <EmptyWarningText> No Closed Surveys Available</EmptyWarningText>\r\n          </EmptyWarning>\r\n        )}\r\n        <SurveyGrid>\r\n          {!loading &&\r\n            closedSurveys?.length &&\r\n            closedSurveys?.map(survey => (\r\n              <SurveyCard\r\n                key={survey.id}\r\n                title={survey.title}\r\n                surveyId={survey.id}\r\n                numQuestions={survey.questions.length}\r\n                status={survey.status}\r\n                refetchData={fetchData}\r\n              />\r\n            ))}\r\n        </SurveyGrid>\r\n      </>\r\n    </Container>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\nimport themes from \"../../themes\";\r\n\r\nexport const Container = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  cursor: pointer;\r\n`;\r\n\r\nexport const BackText = styled.p`\r\n  color: ${props => themes.colors.secondary};\r\n`;\r\n\r\nexport const I = styled.i`\r\n  color: ${props => props.theme.colors.secondary};\r\n`;\r\n","import React from \"react\";\r\n\r\nimport { Container, I, BackText } from \"./styles\";\r\n\r\nexport default function BackLink({ icon, onClick, children }) {\r\n  return (\r\n    <Container onClick={onClick}>\r\n      <I className=\"material-icons prefix\">chevron_left</I>\r\n      <BackText>{children}</BackText>\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useState, useContext } from \"react\";\r\n\r\nimport {\r\n  Container,\r\n  Title,\r\n  Buttons,\r\n  Card,\r\n  ErrorMessage\r\n} from \"../SignIn/styles\";\r\nimport Input from \"../../components/Input\";\r\nimport Button from \"../../components/Button\";\r\nimport SizedBox from \"../../components/SizedBox\";\r\nimport VectorContainer from \"../../components/VectorContainer\";\r\nimport signin_vector from \"../../assets/img/flame-sign-up.png\";\r\nimport BackLink from \"../../components/BackLink\";\r\nimport axiosInstance from \"../../services/api\";\r\nimport AuthContext from \"../../contexts/auth\";\r\nimport { URL_ROOT, URL_LOGIN } from \"../../utils/constants\";\r\n\r\nexport default function SignUp({ history }) {\r\n  const { user, setUser } = useContext(AuthContext);\r\n  const [email, setEmail] = useState();\r\n  const [password, setPassword] = useState();\r\n  const [username, setUsername] = useState();\r\n  const [name, setName] = useState();\r\n  const [error, setError] = useState();\r\n\r\n  const register = async () => {\r\n    if (!email || !password || !username || !name) {\r\n      setError(\"Please, fill all data.\");\r\n      return;\r\n    }\r\n    try {\r\n      const response = await axiosInstance.post(\"/users\", {\r\n        email,\r\n        password,\r\n        username,\r\n        name\r\n      });\r\n\r\n      axiosInstance.defaults.headers.common = {\r\n        Authorization: `Bearer ${response.data.token}`\r\n      };\r\n\r\n      const userData = {\r\n        ...user,\r\n        isLoggedIn: true,\r\n        data: response.data.user,\r\n        token: response.data.token\r\n      };\r\n\r\n      setUser(userData);\r\n\r\n      localStorage.setItem(\"user\", JSON.stringify(userData));\r\n\r\n      history.push(URL_ROOT);\r\n    } catch ({ response }) {\r\n      setError(response?.data?.message || response?.data || \"Unexpected error\");\r\n    }\r\n  };\r\n\r\n  const handleKeyPress = event => {\r\n    if (event.key === \"Enter\") {\r\n      register();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <VectorContainer src={signin_vector} />\r\n      <Title>Sign Up</Title>\r\n      <Card width=\"50%\">\r\n        <BackLink onClick={() => history.push(URL_LOGIN)}>\r\n          Back to Login\r\n        </BackLink>\r\n        <form className=\"col s12\">\r\n          <Input\r\n            id=\"email\"\r\n            name=\"email\"\r\n            icon=\"mail_outline\"\r\n            type=\"email\"\r\n            label=\"Email\"\r\n            value={email}\r\n            onChange={e => setEmail(e.target.value)}\r\n            onKeyPress={handleKeyPress}\r\n            required\r\n          ></Input>\r\n          <Input\r\n            id=\"password\"\r\n            name=\"password\"\r\n            icon=\"lock_outline\"\r\n            type=\"password\"\r\n            label=\"Password\"\r\n            value={password}\r\n            onChange={e => setPassword(e.target.value)}\r\n            onKeyPress={handleKeyPress}\r\n            required\r\n          ></Input>\r\n          <Input\r\n            id=\"username\"\r\n            name=\"username\"\r\n            icon=\"person_outline\"\r\n            type=\"text\"\r\n            label=\"Username\"\r\n            value={username}\r\n            onChange={e => setUsername(e.target.value)}\r\n            onKeyPress={handleKeyPress}\r\n            required\r\n          ></Input>\r\n          <Input\r\n            id=\"fullname\"\r\n            name=\"fullname\"\r\n            icon=\"face\"\r\n            type=\"text\"\r\n            label=\"Full Name\"\r\n            value={name}\r\n            onChange={e => setName(e.target.value)}\r\n            onKeyPress={handleKeyPress}\r\n            required\r\n          ></Input>\r\n        </form>\r\n        <ErrorMessage>{error}</ErrorMessage>\r\n        <SizedBox height=\"20px\" />\r\n        <Buttons>\r\n          <Button color=\"purple\" onClick={register}>\r\n            Create Account\r\n          </Button>\r\n        </Buttons>\r\n      </Card>\r\n    </Container>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\nimport BaseContainer from \"../../components/BaseContainer\";\r\nimport TCard from \"../../components/Card\";\r\n\r\nexport const Container = styled(BaseContainer)`\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  flex: 1;\r\n  flex-direction: column;\r\n  background-color: ${props => props.theme.colors.backgroundColor};\r\n  max-width: 1200px;\r\n  width: 100%;\r\n`;\r\n\r\nexport const Title = styled.h2`\r\n  color: ${props => props.theme.colors.secondary};\r\n`;\r\n\r\nexport const Description = styled.p`\r\n  color: white;\r\n`;\r\n\r\nexport const Card = styled(TCard)`\r\n  width: 90%;\r\n  margin-left: 15px;\r\n  margin-right: 15px;\r\n  margin-bottom: 50px;\r\n  padding-left: 20px;\r\n  padding-right: 20px;\r\n  color: ${props => props.theme.colors.secondary};\r\n\r\n  @media (min-width: 900px) {\r\n    padding-left: 60px;\r\n    padding-right: 60px;\r\n  }\r\n`;\r\n\r\nexport const Question = styled.h2`\r\n  font-weight: bold;\r\n  padding-left: 20px;\r\n  padding-right: 20px;\r\n  font-size: 2.5em;\r\n`;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  border: 1px solid #ffffff0f;\r\n  transition: all 0.1s;\r\n\r\n  &:hover {\r\n    background-color: rgba(100, 100, 110, 0.1);\r\n    i {\r\n      color: ${props => props.theme.colors.primary};\r\n    }\r\n  }\r\n\r\n  ${props =>\r\n    props.selected &&\r\n    `\r\n    background-color: ${props.theme.colors.secondary} !important;\r\n    color: ${props.theme.colors.textNormal};\r\n    box-shadow: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);\r\n    `}\r\n\r\n  ${props =>\r\n    props.percentage &&\r\n    `background-image: linear-gradient(90deg, ${\r\n      props.theme.colors.secondary\r\n    }44 ${parseInt(props.percentage * 100 - -1)}%, transparent ${parseInt(\r\n      props.percentage * 100\r\n    )}%, transparent  ${parseInt(101 - props.percentage * 100)}%);\r\n        border-right: none;\r\n        `}\r\n`;\r\n\r\nexport const AnswerTextContainer = styled.div`\r\n  flex: 1;\r\n  padding: 15px 5px;\r\n  padding-left: 15px;\r\n`;\r\n\r\nexport const AnswerText = styled.p`\r\n  font-size: 1.3rem;\r\n  user-select: none;\r\n\r\n  @media (max-width: 900px) {\r\n    font-size: 1.1rem;\r\n  }\r\n\r\n  ${props =>\r\n    props.selected &&\r\n    `\r\n    color: ${props.theme.colors.textNormal};\r\n    `}\r\n`;\r\n\r\nexport const I = styled.i`\r\n  user-select: none;\r\n  padding: 20px;\r\n  font-size: 2rem;\r\n  ${props => props.selected && `color: ${props.theme.colors.primary};`}\r\n`;\r\n\r\nexport const ResultPercentage = styled.div`\r\n  padding-right: 10px;\r\n`;\r\n","import React from \"react\";\r\n\r\nimport {\r\n  Container,\r\n  AnswerText,\r\n  AnswerTextContainer,\r\n  I,\r\n  ResultPercentage\r\n} from \"./styles\";\r\n\r\nexport default function AnswerItem({\r\n  text = \"Lorem ipsum dolor sit amet, consectetur adipiscing elit.\",\r\n  answerId,\r\n  questionId,\r\n  selected = false,\r\n  selections,\r\n  onSelect = () => {},\r\n  id,\r\n  showResults = false,\r\n  resultPercent\r\n}) {\r\n  const handleSelect = () => {\r\n    onSelect({\r\n      ...selections,\r\n      [questionId]: answerId\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Container\r\n      selected={selected}\r\n      onClick={handleSelect}\r\n      percentage={resultPercent}\r\n    >\r\n      <AnswerTextContainer>\r\n        <AnswerText>{text}</AnswerText>\r\n      </AnswerTextContainer>\r\n      {showResults ? (\r\n        <ResultPercentage>{`${parseInt(\r\n          resultPercent * 100\r\n        )}%`}</ResultPercentage>\r\n      ) : (\r\n        <I className=\"material-icons\" selected={selected}>\r\n          {selected ? \"check_box\" : \"check_box_outline_blank\"}\r\n        </I>\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport { Container, Title, Description, Card, Question } from \"./styles\";\r\nimport axiosInstance from \"../../services/api\";\r\n\r\nimport Header from \"../../components/Header\";\r\n\r\nimport AnswerItem from \"../../components/AnswerItem\";\r\n\r\nexport default function Survey({ history, match }) {\r\n  const [data, setData] = useState();\r\n  const mount = data =>\r\n    data?.questions?.map(question => {\r\n      const total = question.result.reduce((acc, cur) => cur + acc, 0);\r\n\r\n      return (\r\n        <Card key={question.id}>\r\n          <Question>{\"Question: \" + question.title}</Question>\r\n          {question?.options?.map((option, i) => (\r\n            <AnswerItem\r\n              key={i}\r\n              questionId={question.id}\r\n              answerId={option}\r\n              text={option}\r\n              showResults\r\n              resultPercent={total ? question.result[i] / total : 0}\r\n            />\r\n          ))}\r\n        </Card>\r\n      );\r\n    });\r\n\r\n  useEffect(() => {\r\n    axiosInstance\r\n      .get(`/surveys/${match.params.id}/result`)\r\n      .then(response => {\r\n        setData(response?.data);\r\n      })\r\n      .catch();\r\n  }, [match.params.id]);\r\n\r\n  return (\r\n    <Container>\r\n      <Header />\r\n      {data && (\r\n        <>\r\n          <Title>{data.title}</Title>\r\n          <Description>{data.description}</Description>\r\n          {mount(data)}\r\n        </>\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\nimport BaseContainer from \"../../components/BaseContainer\";\r\nimport TCard from \"../../components/Card\";\r\n\r\nexport const Container = styled(BaseContainer)`\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  flex: 1;\r\n  flex-direction: column;\r\n  background-color: ${props => props.theme.colors.backgroundColor};\r\n  max-width: 1200px;\r\n  width: 100%;\r\n`;\r\n\r\nexport const Card = styled(TCard)`\r\n  width: 90%;\r\n  margin-left: 15px;\r\n  margin-right: 15px;\r\n  margin-bottom: 50px;\r\n  padding-left: 20px;\r\n  padding-right: 20px;\r\n  color: ${props => props.theme.colors.secondary};\r\n\r\n  @media (min-width: 900px) {\r\n    padding-left: 60px;\r\n    padding-right: 60px;\r\n  }\r\n`;\r\n\r\nexport const Question = styled.h2`\r\n  font-weight: bold;\r\n  padding-left: 20px;\r\n  padding-right: 20px;\r\n  font-size: 2.5em;\r\n`;\r\nexport const Buttons = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding-top: 50px;\r\n`;\r\n\r\nexport const Head = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  text-align: center;\r\n  align-items: center;\r\n`;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { Route } from \"react-router-dom\";\r\nimport { Container, Card, Question, Buttons, Head } from \"./styles\";\r\nimport AnswerItem from \"../../components/AnswerItem\";\r\nimport Button from \"../../components/Button\";\r\nimport themes from \"../../themes\";\r\nimport SizedBox from \"../../components/SizedBox\";\r\nimport BackLink from \"../../components/BackLink\";\r\nimport Header from \"../../components/Header\";\r\nimport VectorContainer from \"../../components/VectorContainer\";\r\nimport done_vector from \"../../assets/img/task-done.png\";\r\nimport bermuda_welcome from \"../../assets/img/bermuda-welcome.png\";\r\nimport api from \"../../services/api\";\r\nimport AuthContext from \"../../contexts/auth\";\r\nimport { toast } from \"react-toastify\";\r\nimport { URL_ROOT, URL_SURVEYS, URL_SURVEY } from \"../../utils/constants\";\r\n\r\nexport default function Survey({ history, match }) {\r\n  const [selections, setSelections] = useState({});\r\n\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [data, setData] = useState({});\r\n  const { user } = useContext(AuthContext);\r\n  const fetchData = () => {\r\n    setIsLoading(true);\r\n    api\r\n      .get(`/surveys/${match.params.surveyId}`)\r\n      .then(response => {\r\n        setIsLoading(false);\r\n        setData(response.data);\r\n      })\r\n      .catch(({ response }) => {\r\n        setIsLoading(false);\r\n      });\r\n  };\r\n  useEffect(fetchData, [user]);\r\n\r\n  if (isLoading) {\r\n    return <Container></Container>;\r\n  }\r\n\r\n  const { questions, ...survey } = data;\r\n\r\n  const goToNextPage = () => {\r\n    const nextPageId = getNextPage(getQuestionId(match.url), questions);\r\n    if (nextPageId) {\r\n      history.push(\r\n        `${getUrlWithoutLastPart(match.url)}/${getNextPage(\r\n          getQuestionId(match.url),\r\n          questions\r\n        )}`\r\n      );\r\n    } else {\r\n      history.push(`${URL_SURVEY}/${match.params.surveyId}/complete`);\r\n    }\r\n  };\r\n\r\n  const submitSurvey = () => {\r\n    const requestBody = {\r\n      survey: survey.id,\r\n      answers: []\r\n    };\r\n\r\n    requestBody.answers = Object.entries(selections).map(\r\n      ([question, answer]) => ({\r\n        question,\r\n        answer\r\n      })\r\n    );\r\n\r\n    api\r\n      .post(\"/entries\", requestBody)\r\n      .then(() => {\r\n        toast.success(\"☑ Survey submitted successfuly!\");\r\n        history.push(URL_ROOT);\r\n      })\r\n      .catch(err => {\r\n        toast.error(\"Error submiting survey: \" + err?.response?.data?.message);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Header />\r\n      <Route exact path={`/survey/:surveyId`}>\r\n        <Card>\r\n          <BackLink onClick={() => history.goBack()}>Back to surveys</BackLink>\r\n          <Head>\r\n            <Question>Take a quick survey</Question>\r\n            <SizedBox height=\"20px\"></SizedBox>\r\n            <VectorContainer src={bermuda_welcome} />\r\n            <SizedBox height=\"20px\"></SizedBox>\r\n            <div>\r\n              {questions?.length} QUESTION{questions?.length !== 1 ? \"S\" : \"\"}\r\n            </div>\r\n            <div>\r\n              {\" \"}\r\n              {0.25 * questions?.length} MINUTE\r\n              {questions?.length !== 4 ? \"S\" : \"\"}\r\n            </div>\r\n          </Head>\r\n          <p className=\"center\">\r\n            {!isLoading && data.taken && \"You already completed this survey\"}\r\n          </p>\r\n          {!isLoading && (\r\n            <Buttons>\r\n              {data.taken ? (\r\n                <Button\r\n                  large\r\n                  block\r\n                  color=\"secondary\"\r\n                  textColor={themes.colors.textNormal}\r\n                  leftIcon=\"chevron_left\"\r\n                  onClick={() => history.goBack()}\r\n                >\r\n                  Go back\r\n                </Button>\r\n              ) : (\r\n                <Button\r\n                  large\r\n                  block\r\n                  color=\"secondary\"\r\n                  textColor={themes.colors.textNormal}\r\n                  rightIcon=\"chevron_right\"\r\n                  onClick={() =>\r\n                    history.push(\r\n                      `/survey/${match.params.surveyId}/questions/${questions[0].id}`\r\n                    )\r\n                  }\r\n                >\r\n                  Start Now\r\n                </Button>\r\n              )}\r\n            </Buttons>\r\n          )}\r\n        </Card>\r\n      </Route>\r\n\r\n      {questions?.map((question, i) => {\r\n        return (\r\n          <Route\r\n            key={question.id}\r\n            exact\r\n            path={`${getUrlWithoutLastPart(match.path)}/${question.id}`}\r\n          >\r\n            <Card>\r\n              <BackLink onClick={() => history.goBack()}>\r\n                {i > 0 ? \"Previous Question\" : \"Go back\"}\r\n              </BackLink>\r\n              <Question>{question.title}</Question>\r\n              <SizedBox height=\"20px\" />\r\n              {question.options.map(text => (\r\n                <AnswerItem\r\n                  key={text}\r\n                  questionId={question.id}\r\n                  answerId={text}\r\n                  text={text}\r\n                  selected={selections[question.id] === text}\r\n                  selections={selections}\r\n                  onSelect={setSelections}\r\n                ></AnswerItem>\r\n              ))}\r\n              <Buttons>\r\n                <Button\r\n                  large\r\n                  block\r\n                  disabled={!selections[getQuestionId(match.url)]}\r\n                  color=\"secondary\"\r\n                  textColor={themes.colors.textNormal}\r\n                  rightIcon=\"chevron_right\"\r\n                  onClick={goToNextPage}\r\n                >\r\n                  Next\r\n                </Button>\r\n              </Buttons>\r\n            </Card>\r\n          </Route>\r\n        );\r\n      })}\r\n\r\n      <Route exact path={`/survey/:surveyId/complete`}>\r\n        <Card center>\r\n          <BackLink onClick={() => history.goBack()}>Go back</BackLink>\r\n\r\n          <Head>\r\n            <Question>Survey Completed</Question>\r\n            <SizedBox height=\"20px\"></SizedBox>\r\n            <VectorContainer src={done_vector} />\r\n            <SizedBox height=\"20px\"></SizedBox>\r\n          </Head>\r\n          <Buttons>\r\n            <Button\r\n              large\r\n              color=\"danger\"\r\n              leftIcon=\"cancel\"\r\n              onClick={() => history.push(URL_SURVEYS)}\r\n            >\r\n              Cancel\r\n            </Button>\r\n            <SizedBox width=\"40px\" />\r\n            <Button\r\n              large\r\n              color=\"secondary\"\r\n              textColor={themes.colors.textNormal}\r\n              leftIcon=\"check_circle\"\r\n              onClick={submitSurvey}\r\n            >\r\n              Submit\r\n            </Button>\r\n          </Buttons>\r\n        </Card>\r\n      </Route>\r\n    </Container>\r\n  );\r\n}\r\n\r\nfunction getUrlWithoutLastPart(url) {\r\n  return url\r\n    .split(\"/\")\r\n    .slice(0, -1)\r\n    .join(\"/\");\r\n}\r\n\r\nfunction getNextPage(id, arr) {\r\n  const currentPageNumber = arr.findIndex(el => el.id === id);\r\n\r\n  const nextPage = arr[currentPageNumber + 1];\r\n  if (nextPage?.id) return nextPage.id;\r\n  return null;\r\n}\r\n\r\nfunction getQuestionId(url) {\r\n  return url\r\n    .split(\"/\")\r\n    .slice(-1)\r\n    .join(\"\");\r\n}\r\n","import styled from \"styled-components\";\r\nimport BaseContainer from \"../../components/BaseContainer\";\r\nimport TCard from \"../../components/Card\";\r\nimport TButton from \"../../components/Button\";\r\nimport Input from \"../../components/Input\";\r\n\r\nexport const Container = styled(BaseContainer)`\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  flex: 1;\r\n  flex-direction: column;\r\n  background-color: ${props => props.theme.colors.backgroundColor};\r\n  max-width: 1200px;\r\n  width: 100%;\r\n`;\r\n\r\nexport const Body = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  flex-direction: row;\r\n  width: 100%;\r\n  margin-top: 50px;\r\n`;\r\n\r\nexport const SideBar = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-start;\r\n  min-height: 600px;\r\n  flex: 1;\r\n  margin-left: 15px;\r\n  margin-right: 15px;\r\n\r\n  text-overflow: ellipsis;\r\n`;\r\nexport const SideBarItem = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  border-left: ${props => props.theme.colors.secondary};\r\n  &:hover {\r\n    background-color: ${props => `${props.theme.colors.secondary}0f`};\r\n    cursor: pointer;\r\n  }\r\n\r\n  ${props =>\r\n    props.selected\r\n      ? `border-left: 4px solid ${props.theme.colors.secondary};\r\n        color: ${props.theme.colors.secondary};\r\n  font-weight: bold;`\r\n      : `border-left: 4px solid ${props.theme.colors.secondary}44;\r\n      color: ${props.theme.colors.secondary}44;\r\n  font-weight: normal;`}\r\n`;\r\nexport const QuestionItemContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  padding: 20px;\r\n`;\r\nexport const QuestionNumber = styled.p`\r\n  font-size: 1.3em;\r\n  margin: 0;\r\n`;\r\nexport const QuestionTitle = styled.p`\r\n  font-size: 1.3em;\r\n  margin: 0;\r\n`;\r\nexport const QuestionAction = styled.div``;\r\n\r\nexport const QuestionCard = styled.div`\r\n  display: flex;\r\n  flex: 4;\r\n  min-height: 600px;\r\n`;\r\n\r\nexport const Card = styled(TCard)`\r\n  width: 100%;\r\n`;\r\n\r\nexport const Button = styled(TButton)`\r\n  margin: 15px !important;\r\n  width: auto;\r\n`;\r\n\r\nexport const QuestionTitleInput = styled(Input)`\r\n  font-size: 30px !important;\r\n  line-height: 30px !important;\r\n  height: 60px !important;\r\n  display: flex;\r\n  flex: 1;\r\n\r\n  & input {\r\n    font-size: 30px;\r\n    line-height: 30px;\r\n  }\r\n  & + label {\r\n    font-size: 30px;\r\n    line-height: 10px;\r\n    pointer-events: none;\r\n    padding-bottom: 5px;\r\n  }\r\n`;\r\n\r\nexport const OptionInputContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n`;\r\n\r\nexport const OptionInput = styled.input`\r\n  color: ${props => props.theme.colors.secondary};\r\n\r\n  background-color: transparent;\r\n  border: none !important;\r\n  box-shadow: none !important;\r\n  margin-bottom: 0 !important;\r\n\r\n  &:focus {\r\n    border: none !important;\r\n    box-shadow: none !important;\r\n  }\r\n`;\r\n\r\nexport const I = styled.i`\r\n  color: ${props => props.theme.colors.secondary} !important;\r\n\r\n  ${props =>\r\n    props.danger &&\r\n    `\r\n    color: ${props.theme.colors.danger} !important;\r\n  `}\r\n`;\r\n\r\nexport const QuestionTitleInputContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n`;\r\n\r\nexport const OptionAction = styled.div`\r\n  cursor: pointer;\r\n`;\r\n\r\nexport const SurveyName = styled.div`\r\n  margin-top: 30px;\r\n`;\r\n\r\nexport const SurveyInput = styled(QuestionTitleInput)`\r\n  border-bottom: none !important;\r\n  margin-bottom: 0 !important;\r\n  text-align: center;\r\n`;\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useState, useEffect } from \"react\";\r\n\r\nimport {\r\n  Container,\r\n  SideBar,\r\n  SideBarItem,\r\n  QuestionCard,\r\n  QuestionItemContainer,\r\n  QuestionTitle,\r\n  QuestionAction,\r\n  Card,\r\n  Button,\r\n  QuestionTitleInput,\r\n  OptionInput,\r\n  OptionInputContainer,\r\n  I,\r\n  QuestionTitleInputContainer,\r\n  Body,\r\n  OptionAction,\r\n  SurveyName,\r\n  SurveyInput\r\n} from \"./styles\";\r\nimport SizedBox from \"../../components/SizedBox\";\r\nimport Header from \"../../components/Header\";\r\nimport { debounce, uniqBy } from \"lodash\";\r\nimport api from \"../../services/api\";\r\nimport { toast } from \"react-toastify\";\r\nimport {\r\n  URL_ROOT,\r\n  URL_SURVEYS,\r\n  ACTIVE,\r\n  IDLE,\r\n  CANCEL\r\n} from \"../../utils/constants\";\r\n\r\nconst defaultValue = {\r\n  title: \"\",\r\n  options: [\"\"]\r\n};\r\n\r\nexport default function CreateSurvey({ history }) {\r\n  const [questions, setQuestions] = useState([{ ...defaultValue }]);\r\n  const [selectedQuestion, setSelectedQuestion] = useState(0);\r\n\r\n  const [options, setOptions] = useState([]);\r\n  const [questionTitle, setQuestionTitle] = useState(\"\");\r\n  const [surveyTitle, setSurveyTitle] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    setOptions(questions[selectedQuestion]?.options || []);\r\n  }, [selectedQuestion]);\r\n\r\n  useEffect(() => {\r\n    setQuestionTitle(questions[selectedQuestion]?.title || \"\");\r\n  }, [selectedQuestion]);\r\n\r\n  const createNewQuestion = () => {\r\n    if (questions.length >= 10) {\r\n      toast.error(\"You can only have up to 10 questions\");\r\n      return;\r\n    }\r\n    setQuestions([...questions, { ...defaultValue }]);\r\n  };\r\n\r\n  const handleSelected = i => {\r\n    setSelectedQuestion(i);\r\n  };\r\n\r\n  const updateOptions = (index, newOptions) => {\r\n    const newQuestions = [...questions];\r\n    newQuestions[index].options = newOptions || options;\r\n    setQuestions(newQuestions);\r\n  };\r\n\r\n  const updateQuestionTitle = (index, newTitle) => {\r\n    const newQuestions = [...questions];\r\n    newQuestions[index].title = newTitle || questionTitle;\r\n    setQuestions(newQuestions);\r\n  };\r\n\r\n  const handleOptionsChange = (e, index) => {\r\n    const { value } = e.target;\r\n    const newOptions = [...options];\r\n    newOptions[index] = value;\r\n    setOptions(newOptions);\r\n  };\r\n\r\n  const handleQuestionTitleChange = e => {\r\n    const { value } = e.target;\r\n    setQuestionTitle(value);\r\n  };\r\n\r\n  const addNewOption = () => {\r\n    if (options.length >= 5) {\r\n      toast.error(\"You can only add a maximum of 5 options\");\r\n      return;\r\n    }\r\n    const newOptions = [...options, \"\"];\r\n    setOptions(newOptions);\r\n  };\r\n  const deleteOption = index => {\r\n    if (options.length === 1) {\r\n      toast.error(\"You need at least one option\");\r\n      return;\r\n    }\r\n    const newOptions = [...options];\r\n    newOptions.splice(index, 1);\r\n    setOptions(newOptions);\r\n  };\r\n\r\n  const deleteQuestion = index => {\r\n    if (questions.length === 1) {\r\n      toast.error(\"You need at least one question\");\r\n      return;\r\n    }\r\n    const newQuestions = [...questions];\r\n    newQuestions.splice(index, 1);\r\n    setQuestions(newQuestions);\r\n    setSelectedQuestion(0);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const doDebounce = debounce(\r\n      () => updateOptions(selectedQuestion, options),\r\n      100\r\n    );\r\n    doDebounce();\r\n  }, [options]);\r\n\r\n  useEffect(() => {\r\n    const doDebounce = debounce(\r\n      () => updateQuestionTitle(selectedQuestion, questionTitle),\r\n      100\r\n    );\r\n    doDebounce();\r\n  }, [questionTitle]);\r\n\r\n  const saveSurvey = (status = IDLE) => {\r\n    const requestBody = {\r\n      title: surveyTitle,\r\n      description: \"\",\r\n      questions: questions.map(q => ({\r\n        ...q,\r\n        options: uniqBy(q.options, a => a)\r\n      })),\r\n      status\r\n    };\r\n\r\n    if (questions.some(q => !q.title)) {\r\n      toast.error(\"Error: Some question(s) are untitled\");\r\n      return;\r\n    }\r\n\r\n    if (questions.some(q => q.options.some(o => !o))) {\r\n      toast.error(\"Error: Some options(s) are empty!\");\r\n      return;\r\n    }\r\n\r\n    api\r\n      .post(\"/surveys\", requestBody)\r\n      .then(() => {\r\n        toast.success(\"☑ Survey created successfuly!\");\r\n        history.push(URL_ROOT);\r\n      })\r\n      .catch(err => {\r\n        toast.error(\r\n          \"Error creating survey: \" + err?.response?.data?.message ||\r\n            err?.response?.data\r\n        );\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Header\r\n        createSurvey={false}\r\n        leftButtons={[\r\n          <Button\r\n            key={`${CANCEL}-BUTTON`}\r\n            color=\"danger\"\r\n            onClick={() => history.push(URL_SURVEYS)}\r\n          >\r\n            Cancel\r\n          </Button>,\r\n          <Button\r\n            key={`${ACTIVE}-BUTTON`}\r\n            color=\"green\"\r\n            onClick={() => saveSurvey(ACTIVE)}\r\n          >\r\n            Save And Publish\r\n          </Button>,\r\n          <Button\r\n            key={`${IDLE}-BUTTON`}\r\n            color=\"purple\"\r\n            onClick={() => saveSurvey(IDLE)}\r\n          >\r\n            Save\r\n          </Button>\r\n        ]}\r\n      />\r\n\r\n      <SurveyName>\r\n        <SurveyInput\r\n          placeholder=\"Survey Title\"\r\n          value={surveyTitle}\r\n          onChange={e => setSurveyTitle(e.target.value)}\r\n        />\r\n      </SurveyName>\r\n      <Body>\r\n        <SideBar>\r\n          <Button color=\"green\" rightIcon=\"add\" onClick={createNewQuestion}>\r\n            New Question\r\n          </Button>\r\n          {questions?.map((question, i) => (\r\n            <SideBarItem\r\n              key={i}\r\n              selected={selectedQuestion === i}\r\n              onClick={() => handleSelected(i)}\r\n            >\r\n              <QuestionItemContainer>\r\n                <QuestionTitle>{question.title || \"Untitled\"}</QuestionTitle>\r\n              </QuestionItemContainer>\r\n            </SideBarItem>\r\n          ))}\r\n          <SizedBox height=\"10px;\"></SizedBox>\r\n        </SideBar>\r\n\r\n        <QuestionCard>\r\n          <Card>\r\n            <QuestionTitleInputContainer>\r\n              <QuestionTitleInput\r\n                onChange={handleQuestionTitleChange}\r\n                value={questionTitle}\r\n                placeholder=\"Question Title\"\r\n                maxLength=\"250\"\r\n              ></QuestionTitleInput>\r\n              <QuestionAction>\r\n                <Button\r\n                  color=\"danger\"\r\n                  onClick={() => deleteQuestion(selectedQuestion)}\r\n                >\r\n                  <I className=\"material-icons left\">cancel</I>\r\n                  Delete Question\r\n                </Button>\r\n              </QuestionAction>\r\n            </QuestionTitleInputContainer>\r\n            {options.map((op, index) => {\r\n              return (\r\n                <OptionInputContainer key={index}>\r\n                  <I className=\"material-icons left\">menu</I>\r\n                  <OptionInput\r\n                    placeholder=\"Option\"\r\n                    value={op}\r\n                    onChange={e => handleOptionsChange(e, index)}\r\n                    maxLength=\"250\"\r\n                  ></OptionInput>\r\n\r\n                  <OptionAction onClick={() => deleteOption(index)}>\r\n                    <I className=\"material-icons left\">cancel</I>\r\n                  </OptionAction>\r\n                </OptionInputContainer>\r\n              );\r\n            })}\r\n            <Button color=\"green\" rightIcon=\"add\" onClick={addNewOption}>\r\n              Add\r\n            </Button>\r\n          </Card>\r\n        </QuestionCard>\r\n      </Body>\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport AuthContext from \"../../contexts/auth\";\r\nimport { COORDINATOR } from '../../utils/constants';\r\n\r\nconst ProtectedRoute = ({ component: Component, ...rest }) => {\r\n  const { user } = useContext(AuthContext);\r\n  const isAdmin = user?.data?.role?.toUpperCase() === COORDINATOR;\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props =>\r\n        isAdmin === true ? <Component {...props} /> : <Redirect to=\"/\" />\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { ThemeProvider } from \"styled-components\";\r\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport AuthContext from \"./contexts/auth\";\r\nimport SignIn from \"./pages/SignIn/SignIn\";\r\nimport themes from \"./themes\";\r\nimport \"materialize-css/dist/css/materialize.min.css\";\r\nimport Surveys from \"./pages/Surveys\";\r\nimport SignUp from \"./pages/SignUp/SignUp\";\r\nimport Results from \"./pages/Results\";\r\nimport Survey from \"./pages/Survey\";\r\nimport CreateSurvey from \"./pages/CreateSurvey\";\r\nimport AdminRoute from \"./components/ProtectedRoutes/adminProtected\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport \"materialize-css\";\r\nimport { URL_ROOT, URL_CREATE, URL_REGISTER, URL_LOGIN, URL_SURVEY, URL_RESULTS } from \"./utils/constants\";\r\n\r\nfunction App() {\r\n  const [user, setUser] = useState({ isLoggedIn: false });\r\n  useEffect(() => {\r\n    let userStorage = localStorage.getItem(\"user\");\r\n    if (userStorage) {\r\n      userStorage = JSON.parse(userStorage);\r\n      setUser(userStorage);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <ThemeProvider theme={themes}>\r\n      <AuthContext.Provider value={{ user, setUser }}>\r\n        <Router basename={URL_ROOT}>\r\n          <Switch>\r\n            <AdminRoute path={URL_CREATE} component={CreateSurvey} />\r\n            <Route exact path={`${URL_SURVEY}/:surveyId/complete`} component={Survey} />\r\n            <Route exact path={`${URL_SURVEY}/:surveyId`} component={Survey} />\r\n            <Route\r\n              exact\r\n              path={`${URL_SURVEY}/:surveyId/questions/:questionId`}\r\n              component={Survey}\r\n            />\r\n            <Route path={URL_REGISTER} component={SignUp} />\r\n            <Route path={`${URL_RESULTS}/:id`} component={Results} exact />\r\n            <Route path={URL_LOGIN} component={SignIn} />\r\n            <Route path={URL_ROOT} component={Surveys} />\r\n          </Switch>\r\n        </Router>\r\n        <ToastContainer />\r\n      </AuthContext.Provider>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}