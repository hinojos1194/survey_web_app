(this["webpackJsonpsurvey-app"]=this["webpackJsonpsurvey-app"]||[]).push([[0],{18:function(e,n,t){e.exports=t.p+"static/media/flame-sign-up.90821be9.png"},25:function(e,n,t){e.exports=t.p+"static/media/mirage-list-is-empty.f9f126a1.png"},45:function(e,n,t){e.exports=t.p+"static/media/task-done.b351d20f.png"},46:function(e,n,t){e.exports=t.p+"static/media/bermuda-welcome.9963302c.png"},49:function(e,n,t){e.exports=t(84)},54:function(e,n,t){},57:function(e,n,t){},84:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(17),c=t.n(o),i=(t(54),t(5)),l=t(2),u=t(16),s=t(14),d=a.a.createContext(),f=t(19),m=t.n(f),p=t(13),v=t(24),b=t(3);function h(){var e=Object(b.a)(["\n  max-width: 1200px;\n  align-self: center;\n  justify-self: center;\n  flex: 1;\n  /* min-height: 100vh; */\n"]);return h=function(){return e},e}var g=l.b.div(h()),x=t(8);function E(){var e=Object(b.a)(["\n  /* min-width: ","; */\n  background-color: rgba(200, 200, 200, 0.1);\n  padding: 50px;\n  margin: 20px;\n  box-shadow: 0px 5px 10px rgba(200, 150, 150, 0.1);\n"]);return E=function(){return e},e}var j=l.b.div(E(),(function(e){return e.width&&e.width}));function O(e){var n=e.children,t=Object(x.a)(e,["children"]);return a.a.createElement(j,t,n)}function y(){var e=Object(b.a)(["\n  color: red;\n"]);return y=function(){return e},e}function w(){var e=Object(b.a)(["\n  max-width: 500px;\n  width: 90%;\n"]);return w=function(){return e},e}function k(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  align-self: stretch;\n  justify-content: center;\n"]);return k=function(){return e},e}function C(){var e=Object(b.a)(["\n  color: ",";\n  /* text-transform: uppercase; */\n"]);return C=function(){return e},e}function S(){var e=Object(b.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex: 1;\n  flex-direction: column;\n  background-color: ",";\n  width: 100%;\n  margin-top: 50px;\n  margin-bottom: 50px;\n"]);return S=function(){return e},e}var I=Object(l.b)(g)(S(),(function(e){return e.theme.colors.backgroundColor})),N=l.b.h2(C(),(function(e){return e.theme.colors.secondary})),z=l.b.div(k()),A=Object(l.b)(O)(w()),q=l.b.p(y());t(57);function L(){var e=Object(b.a)(["\n  color: ",";\n"]);return L=function(){return e},e}function U(){var e=Object(b.a)(["\n  color: ",";\n"]);return U=function(){return e},e}function D(){var e=Object(b.a)(["\n  color: ",";\n"]);return D=function(){return e},e}var B=l.b.i(D(),(function(e){return e.theme.colors.secondary})),F=l.b.input(U(),(function(e){return e.theme.colors.secondary})),T=l.b.label(L(),(function(e){return e.theme.colors.secondary}));function _(e){var n=e.icon,t=e.label,r=e.id,o=Object(x.a)(e,["icon","label","id"]);return a.a.createElement("div",{className:"input-field"},n&&a.a.createElement(B,{className:"material-icons prefix"},n),a.a.createElement(F,Object.assign({id:r,type:"text",className:"validate"},o)),a.a.createElement(T,{htmlFor:r},t))}function Q(){var e=Object(b.a)(["\n  background-color: ",";\n  color: ",";\n  border-radius: ",";\n\n  &:hover,\n  &:focus,\n  &:active {\n    background-color: "," !important;\n    filter: brightness(0.9);\n  }\n\n  ","\n"]);return Q=function(){return e},e}var J=l.b.button(Q(),(function(e){return e.color?e.theme.colors[e.color]:e.theme.colors.primary}),(function(e){return e.textColor?e.textColor:e.theme.colors.secondary}),(function(e){return e.rounded?"50px":"2px"}),(function(e){return e.color?e.theme.colors[e.color]:e.theme.colors.primary}),(function(e){return e.block&&"\n    width: 100%;\n  "}));function P(e){var n=e.leftIcon,t=e.rightIcon,r=e.children,o=e.large,c=e.block,i=e.disabled,l=e.className,u=Object(x.a)(e,["leftIcon","rightIcon","children","large","block","disabled","className"]);return a.a.createElement(J,Object.assign({},u,{block:c,className:"btn waves-effect waves-light z-depth-0 ".concat(o&&"btn-large"," ").concat(i&&"disabled"," ").concat(l)}),n&&a.a.createElement("i",{className:"material-icons left"},n),r,t&&a.a.createElement("i",{className:"material-icons right"},t))}function R(){var e=Object(b.a)(["\n  height: ",";\n  width: ",";\n"]);return R=function(){return e},e}var V=l.b.div(R(),(function(e){return e.height}),(function(e){return e.width}));function W(e){var n=Object.assign({},e);return a.a.createElement(V,n)}function Y(){var e=Object(b.a)(["\n  width: 100%;\n"]);return Y=function(){return e},e}function G(){var e=Object(b.a)(["\n  object-fit: contain;\n  width: ",";\n  ","\n"]);return G=function(){return e},e}var H=l.b.div(G(),(function(e){return e.size?e.size:"200px"}),(function(e){return e.clickable&&"cursor: pointer"})),Z=l.b.img(Y());function K(e){var n=e.size,t=void 0===n?"200px":n,r=e.clickable,o=Object(x.a)(e,["size","clickable"]);return a.a.createElement(H,{size:t,clickable:r},a.a.createElement(Z,o))}var M=t(18),X=t.n(M),$=t(58).create({baseURL:"https://nextly-survey.herokuapp.com/"}),ee=localStorage.getItem("user");ee&&(ee=JSON.parse(ee),$.defaults.headers.common={Authorization:"Bearer ".concat(ee.token)});var ne=$;function te(e){var n=e.history,t=Object(r.useContext)(d),o=t.setUser,c=t.user,l=Object(r.useState)(),u=Object(i.a)(l,2),s=u[0],f=u[1],b=Object(r.useState)(),h=Object(i.a)(b,2),g=h[0],x=h[1],E=Object(r.useState)(),j=Object(i.a)(E,2),O=j[0],y=j[1],w=function(){var e=Object(v.a)(m.a.mark((function e(t,r){var a,i,l,u;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne.post("/users/auth",{email:t,password:r});case 3:a=e.sent,console.log(a),console.log("kfjdlkf"),ne.defaults.headers.common={Authorization:"Bearer ".concat(a.data.token)},i=Object(p.a)({},c,{isLoggedIn:!0,data:a.data.user,token:a.data.token}),o(i),localStorage.setItem("user",JSON.stringify(i)),n.push("/"),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(0),u=e.t0.response,console.log(u),y((null===u||void 0===u?void 0:null===(l=u.data)||void 0===l?void 0:l.message)||"Unexpected error");case 18:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(n,t){return e.apply(this,arguments)}}();return console.log(s,g),a.a.createElement(I,null,a.a.createElement(K,{src:X.a}),a.a.createElement(N,null,"Sign In"),a.a.createElement(A,null,a.a.createElement("form",{className:"col s12"},a.a.createElement(_,{id:"email",name:"email",icon:"mail_outline",type:"email",label:"Email Address",value:s,onChange:function(e){return y()||f(e.target.value)}}),a.a.createElement(_,{id:"password",name:"password",icon:"lock_outline",type:"password",label:"Password",value:g,onChange:function(e){return y()||x(e.target.value)}})),a.a.createElement(q,null,O),a.a.createElement(W,{height:"20px"}),a.a.createElement(z,null,a.a.createElement(P,{onClick:function(){return w(s,g)}},"Sign In"),a.a.createElement(W,{height:"20px"}),a.a.createElement(P,{onClick:function(){return n.push("/register")},color:"purple"},"Create Account"))))}var re={colors:{backgroundColor:"#3646AA",primary:"#5CD4A0",secondary:"#F2F2F2",danger:"#9B291F",purple:"#8e44ad",textNormal:"#3C4659",textLight:"#ADADC4",red:"#8F0000",green:"#3FA69A"}};t(75);function ae(){var e=Object(b.a)(["\n  color: ",";\n"]);return ae=function(){return e},e}function oe(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return oe=function(){return e},e}function ce(){var e=Object(b.a)(["\n  color: ",";\n  /* text-transform: uppercase; */\n"]);return ce=function(){return e},e}function ie(){var e=Object(b.a)(["\n  display: flex;\n  justify-content: stretch;\n  align-items: flex-start;\n  flex-direction: row;\n  flex-wrap: wrap;\n  width: 100%;\n"]);return ie=function(){return e},e}function le(){var e=Object(b.a)(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  align-self: center;\n  flex: 1;\n  flex-direction: column;\n  background-color: ",";\n  max-width: 1200px;\n  /* margin: 0 auto; */\n  width: 100%;\n  /* margin-top: 50px; */\n  margin-bottom: 50px;\n"]);return le=function(){return e},e}var ue=l.b.div(le(),(function(e){return e.theme.colors.backgroundColor})),se=l.b.div(ie()),de=l.b.h2(ce(),(function(e){return e.theme.colors.secondary})),fe=l.b.div(oe()),me=l.b.h6(ae(),(function(e){return e.theme.colors.secondary}));function pe(){var e=Object(b.a)(["\n  padding-top: 10px;\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n"]);return pe=function(){return e},e}function ve(){var e=Object(b.a)(["\n  font-size: 1rem;\n  color: ",";\n"]);return ve=function(){return e},e}function be(){var e=Object(b.a)(["\n  /* padding: 10px; */\n"]);return be=function(){return e},e}function he(){var e=Object(b.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: flex-start;\n  flex-direction: column;\n  /* height: 150px; */\n"]);return he=function(){return e},e}function ge(){var e=Object(b.a)(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  flex-direction: row;\n  /* height: 150px; */\n  /* padding: 10px; */\n  overflow: hidden;\n"]);return ge=function(){return e},e}function xe(){var e=Object(b.a)(["\n  color: ",";\n  font-size: 1.1rem;\n  margin: 0;\n"]);return xe=function(){return e},e}function Ee(){var e=Object(b.a)(["\n  object-fit: contain;\n  height: 100%;\n  /* width: 100%; */\n  border-radius: 15px;\n"]);return Ee=function(){return e},e}function je(){var e=Object(b.a)(["\n  height: 80px;\n  max-width: 150px;\n  margin-right: 20px;\n"]);return je=function(){return e},e}function Oe(){var e=Object(b.a)(["\n  font-weight: bold;\n  color: ",";\n  font-size: 1.3rem;\n  margin: 0;\n  text-transform: capitalize;\n"]);return Oe=function(){return e},e}function ye(){var e=Object(b.a)(["\n  background-color: ",";\n  box-shadow: 0px 5px 10px rgba(200, 150, 150, 0.1);\n  margin-right: 15px;\n  margin-left: 15px;\n  padding: 40px;\n  border-radius: 15px;\n  margin-bottom: 30px;\n\n  @media (min-width: 1025px) {\n    width: calc(33% - 30px);\n    flex-basis: calc(33% - 30px);\n  }\n  @media (max-width: 1024px) {\n    width: calc(50% - 30px);\n    flex-basis: calc(50% - 30px);\n  }\n  @media (max-width: 768px) {\n    width: calc(100% - 30px);\n    flex-basis: calc(100% - 30px);\n  }\n"]);return ye=function(){return e},e}var we=l.b.div(ye(),(function(e){return e.theme.colors.secondary})),ke=l.b.p(Oe(),(function(e){return e.theme.colors.textNormal})),Ce=(l.b.div(je()),l.b.img(Ee()),l.b.p(xe(),(function(e){return e.theme.colors.textNormal}))),Se=l.b.div(ge()),Ie=l.b.div(he()),Ne=l.b.div(be()),ze=l.b.p(ve(),(function(e){return e.theme.colors.textNormal})),Ae=l.b.div(pe()),qe=Object(s.g)((function(e){var n,t,o=e.history,c=e.title,i=void 0===c?"IT Executive Compensation Study":c,l=(e.description,e.numQuestions),u=e.status,s=e.refetchData,f=void 0===s?function(){}:s,m=e.surveyId,p=void 0===m?"123":m,v=Object(r.useContext)(d).user,b="IDLE"===(null===u||void 0===u?void 0:u.toUpperCase()),h="ACTIVE"===(null===u||void 0===u?void 0:u.toUpperCase()),g="COORDINATOR"===(null===v||void 0===v?void 0:null===(n=v.data)||void 0===n?void 0:null===(t=n.role)||void 0===t?void 0:t.toUpperCase()),x=function(e){ne.put("/surveys/status/"+p,{status:e}).then(f).catch(console.log)};return a.a.createElement(we,null,a.a.createElement(Se,null,a.a.createElement(Ie,null,a.a.createElement(Ce,null,a.a.createElement("i",{className:"material-icons left"},"event_note"),"Survey"),a.a.createElement(ke,null,i))),a.a.createElement(Ne,null,a.a.createElement(ze,null,l," questions (",.25*l," minutes)")),a.a.createElement(Ae,null,b?a.a.createElement(P,{color:"primary",rounded:!0,onClick:function(){return x("ACTIVE")}},"Open Survey"):a.a.createElement(P,{color:h?"purple":"green",rounded:!0,onClick:function(){return o.push("/results/".concat(p))}},h?"Take Survey":"See Results"),g&&h&&a.a.createElement(a.a.Fragment,null,a.a.createElement(W,{height:"15px"}),a.a.createElement(P,{color:"red",rounded:!0,onClick:function(){return x("CLOSED")}},"Close Survey"))))}));function Le(){var e=Object(b.a)(["\n  cursor: pointer;\n  color: white;\n"]);return Le=function(){return e},e}function Ue(){var e=Object(b.a)(["\n  margin: 0;\n  padding-right: 15px;\n  padding-left: 15px;\n  color: ",";\n  font-weight: bold;\n"]);return Ue=function(){return e},e}function De(){var e=Object(b.a)(["\n  margin: 0;\n  padding: 10px;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  user-select: none;\n"]);return De=function(){return e},e}function Be(){var e=Object(b.a)(["\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n"]);return Be=function(){return e},e}function Fe(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n"]);return Fe=function(){return e},e}function Te(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n"]);return Te=function(){return e},e}function _e(){var e=Object(b.a)(["\n  height: 80px;\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 30px;\n  min-width: 100%;\n  margin-top: 30px;\n"]);return _e=function(){return e},e}var Qe=l.b.div(_e()),Je=l.b.div(Te()),Pe=l.b.div(Fe()),Re=l.b.div(Be()),Ve=Object(l.b)(O)(De()),We=l.b.p(Ue(),(function(e){return e.theme.colors.secondary})),Ye=l.b.span(Le());function Ge(){var e=Object(b.a)(["\n  height: 100%;\n  width: 100%;\n  object-fit: cover;\n"]);return Ge=function(){return e},e}function He(){var e=Object(b.a)(["\n  border-radius: 50%;\n  width: ",";\n  height: ",";\n  overflow: hidden;\n"]);return He=function(){return e},e}var Ze=l.b.div(He(),(function(e){return e.size}),(function(e){return e.size})),Ke=l.b.img(Ge());function Me(e){var n=e.src,t=e.size,r=Object(x.a)(e,["src","size"]);return a.a.createElement(Ze,{size:t},a.a.createElement(Ke,Object.assign({src:n},r)))}var Xe=Object(s.g)((function(e){var n,t,o=e.history,c=e.createSurvey,i=void 0===c||c,l=e.showUser,u=void 0===l||l,s=e.showHome,f=void 0!==s&&s,m=e.leftButtons,p=Object(r.useContext)(d),v=p.user,b=p.setUser,h="COORDINATOR"===(null===v||void 0===v?void 0:null===(n=v.data)||void 0===n?void 0:null===(t=n.role)||void 0===t?void 0:t.toUpperCase()),g=(null===v||void 0===v?void 0:v.isLoggedIn)?a.a.createElement("p",{style:{color:"white"}},"Welcome ",v.data.name,"."," ",a.a.createElement(Ye,{onClick:function(){localStorage.removeItem("user"),b({isLoggedIn:!1}),ne.defaults.headers.common.Authorization=void 0}},"Logout.")):a.a.createElement(Ve,{onClick:function(){return o.push("/login")}},a.a.createElement(We,null,"Login"),a.a.createElement(Me,{size:"25px",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcTK1J-i3ZrWnicHdauDJ1ZUN9laTSlb1xG0bhlf9a484BGIL2JL"}));return a.a.createElement(Qe,null,a.a.createElement(Je,null,f?a.a.createElement(Ye,{onClick:function(){return o.push("/")}},"Home"):i&&h&&a.a.createElement(P,{color:"green",onClick:function(){return o.push("/create")}},"Create New Survey"),m&&m),a.a.createElement(Re,null,a.a.createElement(K,{clickable:!0,size:"50px",src:X.a,onClick:function(){return o.push("/")}})),a.a.createElement(Pe,null,u&&g))})),$e=t(25),en=t.n($e);function nn(){var e=Object(r.useState)(!0),n=Object(i.a)(e,2),t=n[0],o=n[1],c=Object(r.useState)(),l=Object(i.a)(c,2),u=(l[0],l[1],Object(r.useState)()),s=Object(i.a)(u,2),f=s[0],m=s[1],p=Object(r.useState)(),v=Object(i.a)(p,2),b=v[0],h=v[1],g=Object(r.useState)(),x=Object(i.a)(g,2),E=x[0],j=x[1],O=Object(r.useContext)(d).user,y=function(){ne.get("/surveys/").then((function(e){var n,t,r;o(!1),m(null===e||void 0===e?void 0:null===(n=e.data)||void 0===n?void 0:n.filter((function(e){return"CLOSED"===e.status}))),h(null===e||void 0===e?void 0:null===(t=e.data)||void 0===t?void 0:t.filter((function(e){return"ACTIVE"===e.status}))),j(null===e||void 0===e?void 0:null===(r=e.data)||void 0===r?void 0:r.filter((function(e){return"IDLE"===e.status}))),console.log(e.data)})).catch((function(e){e.response;o(!1)}))};return Object(r.useEffect)(y,[O]),a.a.createElement(ue,null,a.a.createElement(Xe,null),a.a.createElement(a.a.Fragment,null,a.a.createElement(W,{height:"50px"}),a.a.createElement(de,null,"Active Surveys"),a.a.createElement(W,{height:"20px"}),!(null===b||void 0===b?void 0:b.length)&&a.a.createElement(fe,null,a.a.createElement(K,{src:en.a}),a.a.createElement(me,null," No Active Surveys Available")),a.a.createElement(se,null,!t&&(null===b||void 0===b?void 0:b.length)&&(null===b||void 0===b?void 0:b.map((function(e){return a.a.createElement(qe,{key:e.id,title:e.title,surveyId:e.id,numQuestions:e.questions.length,status:e.status,refetchData:y})}))))),a.a.createElement(a.a.Fragment,null,a.a.createElement(W,{height:"50px"}),a.a.createElement(de,null,"Idle Surveys"),a.a.createElement(W,{height:"20px"}),!(null===E||void 0===E?void 0:E.length)&&a.a.createElement(fe,null,a.a.createElement(K,{src:en.a}),a.a.createElement(me,null," No Idle Surveys Available")),a.a.createElement(se,null,!t&&(null===E||void 0===E?void 0:E.length)&&(null===E||void 0===E?void 0:E.map((function(e){return a.a.createElement(qe,{key:e.id,title:e.title,surveyId:e.id,numQuestions:e.questions.length,status:e.status,refetchData:y})}))))),a.a.createElement(a.a.Fragment,null,a.a.createElement(W,{height:"50px"}),a.a.createElement(de,null,"Closed Surveys"),a.a.createElement(W,{height:"20px"}),!(null===f||void 0===f?void 0:f.length)&&a.a.createElement(fe,null,a.a.createElement(K,{src:en.a}),a.a.createElement(me,null," No Closed Surveys Available")),a.a.createElement(se,null,!t&&(null===f||void 0===f?void 0:f.length)&&(null===f||void 0===f?void 0:f.map((function(e){return a.a.createElement(qe,{key:e.id,title:e.title,surveyId:e.id,numQuestions:e.questions.length,status:e.status,refetchData:y})}))))))}function tn(){var e=Object(b.a)(["\n  color: ",";\n"]);return tn=function(){return e},e}function rn(){var e=Object(b.a)(["\n  color: ",";\n"]);return rn=function(){return e},e}function an(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  cursor: pointer;\n"]);return an=function(){return e},e}var on=l.b.div(an()),cn=l.b.p(rn(),(function(e){return re.colors.secondary})),ln=l.b.i(tn(),(function(e){return e.theme.colors.secondary}));function un(e){e.icon;var n=e.onClick,t=e.children;return a.a.createElement(on,{onClick:n},a.a.createElement(ln,{className:"material-icons prefix"},"chevron_left"),a.a.createElement(cn,null,t))}function sn(e){var n=e.history,t=Object(r.useContext)(d),o=t.user,c=t.setUser,l=Object(r.useState)(),u=Object(i.a)(l,2),s=u[0],f=u[1],b=Object(r.useState)(),h=Object(i.a)(b,2),g=h[0],x=h[1],E=Object(r.useState)(),j=Object(i.a)(E,2),O=j[0],y=j[1],w=Object(r.useState)(),k=Object(i.a)(w,2),C=k[0],S=k[1],L=Object(r.useState)(),U=Object(i.a)(L,2),D=U[0],B=U[1],F=function(){var e=Object(v.a)(m.a.mark((function e(){var t,r,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s&&g&&O&&C){e.next=3;break}return B("Please, fill all data."),e.abrupt("return");case 3:return e.prev=3,e.next=6,ne.post("/users",{email:s,password:g,username:O,name:C});case 6:t=e.sent,ne.defaults.headers.common={Authorization:"Bearer ".concat(t.data.token)},r=Object(p.a)({},o,{isLoggedIn:!0,data:t.data.user,token:t.data.token}),c(r),localStorage.setItem("user",JSON.stringify(r)),n.push("/"),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(3),a=e.t0.response,console.log(a),B((null===a||void 0===a?void 0:a.data)||"Unexpected error");case 19:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(I,null,a.a.createElement(K,{src:X.a}),a.a.createElement(N,null,"Sign Up"),a.a.createElement(A,{width:"50%"},a.a.createElement(un,{onClick:function(){return n.push("/login")}},"Back to Login"),a.a.createElement("form",{className:"col s12"},a.a.createElement(_,{id:"email",name:"email",icon:"mail_outline",type:"email",label:"Email Address",value:s,onChange:function(e){return f(e.target.value)},required:!0}),a.a.createElement(_,{id:"password",name:"password",icon:"lock_outline",type:"password",label:"Password",value:g,onChange:function(e){return x(e.target.value)},required:!0}),a.a.createElement(_,{id:"username",name:"username",icon:"person_outline",type:"text",label:"Username",value:O,onChange:function(e){return y(e.target.value)},required:!0}),a.a.createElement(_,{id:"fullname",name:"fullname",icon:"face",type:"text",label:"Full Name",value:C,onChange:function(e){return S(e.target.value)},required:!0})),a.a.createElement(q,null,D),a.a.createElement(W,{height:"20px"}),a.a.createElement(z,null,a.a.createElement(P,{color:"purple",onClick:F},"Create Account"))))}function dn(){var e=Object(b.a)(["\n  color: white;\n"]);return dn=function(){return e},e}function fn(){var e=Object(b.a)(["\n  color: ",";\n  /* text-transform: uppercase; */\n"]);return fn=function(){return e},e}function mn(){var e=Object(b.a)(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  flex: 1;\n  flex-direction: column;\n  background-color: ",";\n  max-width: 1200px;\n  width: 100%;\n"]);return mn=function(){return e},e}var pn=Object(l.b)(g)(mn(),(function(e){return e.theme.colors.backgroundColor})),vn=l.b.h2(fn(),(function(e){return e.theme.colors.secondary})),bn=l.b.p(dn());function hn(e){e.history;var n=e.match,t=Object(r.useState)(),o=Object(i.a)(t,2),c=o[0],l=o[1];return Object(r.useEffect)((function(){ne.get("/surveys/".concat(n.params.id,"/result")).then((function(e){console.log(e),l(null===e||void 0===e?void 0:e.data)})).catch(console.log)}),[n.params.id]),a.a.createElement(pn,null,a.a.createElement(Xe,null),c&&a.a.createElement(a.a.Fragment,null,a.a.createElement(vn,null,c.title),a.a.createElement(bn,null,c.description),function(e){var n;return null===e||void 0===e?void 0:null===(n=e.questions)||void 0===n?void 0:n.map((function(e){var n;return a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,"Question: "+e.title),null===e||void 0===e?void 0:null===(n=e.options)||void 0===n?void 0:n.map((function(n,t){return a.a.createElement("p",null,n,": ",e.result[t])})))}))}(c)))}function gn(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  text-align: center;\n  align-items: center;\n"]);return gn=function(){return e},e}function xn(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  padding-top: 50px;\n"]);return xn=function(){return e},e}function En(){var e=Object(b.a)(["\n  font-weight: bold;\n  padding-left: 20px;\n  padding-right: 20px;\n  font-size: 2.5em;\n  text-transform: capitalize;\n"]);return En=function(){return e},e}function jn(){var e=Object(b.a)(["\n  width: 90%;\n  margin-left: 15px;\n  margin-right: 15px;\n  margin-bottom: 50px;\n  padding-left: 20px;\n  padding-right: 20px;\n  color: ",";\n\n  @media (min-width: 900px) {\n    padding-left: 60px;\n    padding-right: 60px;\n  }\n"]);return jn=function(){return e},e}function On(){var e=Object(b.a)(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  flex: 1;\n  flex-direction: column;\n  background-color: ",";\n  max-width: 1200px;\n  width: 100%;\n"]);return On=function(){return e},e}var yn=Object(l.b)(g)(On(),(function(e){return e.theme.colors.backgroundColor})),wn=Object(l.b)(O)(jn(),(function(e){return e.theme.colors.secondary})),kn=l.b.h2(En()),Cn=l.b.div(xn()),Sn=l.b.div(gn()),In=t(23);function Nn(){var e=Object(b.a)(["\n  user-select: none;\n  padding: 20px;\n  font-size: 2rem;\n  ","\n"]);return Nn=function(){return e},e}function zn(){var e=Object(b.a)(["\n  font-size: 1.3rem;\n  user-select: none;\n\n  @media (max-width: 900px) {\n    font-size: 1.1rem;\n  }\n\n  ","\n"]);return zn=function(){return e},e}function An(){var e=Object(b.a)(["\n  flex: 1;\n  padding: 15px 5px;\n  padding-left: 15px;\n  text-transform: capitalize;\n"]);return An=function(){return e},e}function qn(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  cursor: pointer;\n  border: 1px solid #ffffff0f;\n  transition: all 0.1s;\n  /* "," */\n\n  &:hover {\n    background-color: rgba(100, 100, 110, 0.1);\n    i {\n      color: ",";\n    }\n  }\n\n\n  ","\n  \n"]);return qn=function(){return e},e}var Ln=l.b.div(qn(),(function(e){return e.selected?"border: 1px solid ".concat(e.theme.colors.primary,";"):"border: 1px solid #ffffff0f;"}),(function(e){return e.theme.colors.primary}),(function(e){return e.selected&&"\n    background-color: ".concat(e.theme.colors.secondary," !important;\n    color: ").concat(e.theme.colors.textNormal,";\n    box-shadow: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);\n    ")})),Un=l.b.div(An()),Dn=l.b.p(zn(),(function(e){return e.selected&&"\n    color: ".concat(e.theme.colors.textNormal,";\n    ")})),Bn=l.b.i(Nn(),(function(e){return e.selected&&"color: ".concat(e.theme.colors.primary,";")}));function Fn(e){var n=e.text,t=void 0===n?"Lorem ipsum dolor sit amet, consectetur adipiscing elit.":n,r=e.answerId,o=e.questionId,c=e.selected,i=void 0!==c&&c,l=e.selections,u=e.onSelect,s=void 0===u?function(){}:u;e.id;return a.a.createElement(Ln,{selected:i,onClick:function(){s(Object(p.a)({},l,Object(In.a)({},o,r)))}},a.a.createElement(Un,null,a.a.createElement(Dn,null,t)),a.a.createElement(Bn,{className:"material-icons",selected:i},i?"check_box":"check_box_outline_blank"))}var Tn=t(45),_n=t.n(Tn),Qn=t(46),Jn=t.n(Qn),Pn=t(47),Rn=t.n(Pn),Vn=t(11);function Wn(e){var n=e.history,t=e.match,o=Object(r.useState)({}),c=Object(i.a)(o,2),l=c[0],u=c[1],d=Rn()("https://nextly-survey.herokuapp.com/surveys/".concat(t.params.surveyId)),f=d.isLoading,m=d.data;if(f)return a.a.createElement(yn,null);var p=m.questions,v=Object(x.a)(m,["questions"]);console.log(p,v);var b=function(){var e=Gn(Hn(t.url),p);console.log({nextPageId:e}),console.log(Hn(t.url),p,e),e?n.push("".concat(Yn(t.url),"/").concat(Gn(Hn(t.url),p))):n.push("/survey/".concat(t.params.surveyId,"/complete"))};return a.a.createElement(yn,null,a.a.createElement(Xe,null),a.a.createElement(s.b,{exact:!0,path:"/survey/:surveyId"},a.a.createElement(wn,null,a.a.createElement(un,{onClick:function(){return n.goBack()}},"Back to surveys"),a.a.createElement(Sn,null,a.a.createElement(kn,null,"Take a Quick Survey"),a.a.createElement(W,{height:"20px"}),a.a.createElement(K,{src:Jn.a}),a.a.createElement(W,{height:"20px"}),a.a.createElement("div",null,p.length," QUESTIONS"),a.a.createElement("div",null," ",.25*p.length," MINUTES")),a.a.createElement(Cn,null,a.a.createElement(P,{large:!0,block:!0,color:"secondary",textColor:re.colors.textNormal,rightIcon:"chevron_right",onClick:function(){return n.push("/survey/".concat(t.params.surveyId,"/questions/").concat(p[0].id))}},"Start Now")))),p.map((function(e){return a.a.createElement(s.b,{exact:!0,path:"".concat(Yn(t.path),"/").concat(e.id)},a.a.createElement(wn,null,a.a.createElement(un,{onClick:function(){return n.goBack()}},"Previous Question"),a.a.createElement(kn,null,e.title),a.a.createElement(W,{height:"20px"}),e.options.map((function(n){return a.a.createElement(Fn,{questionId:e.id,answerId:n,text:n,selected:l[e.id]===n,selections:l,onSelect:u})})),a.a.createElement(Cn,null,a.a.createElement(P,{large:!0,block:!0,disabled:!l[Hn(t.url)],color:"secondary",textColor:re.colors.textNormal,rightIcon:"chevron_right",onClick:b},"Next"))))})),a.a.createElement(s.b,{exact:!0,path:"/survey/:surveyId/complete"},a.a.createElement(wn,{center:!0},a.a.createElement(un,{onClick:function(){return n.goBack()}},"Previous Question"),a.a.createElement(Sn,null,a.a.createElement(kn,null,"Survey Completed"),a.a.createElement(W,{height:"20px"}),a.a.createElement(K,{src:_n.a}),a.a.createElement(W,{height:"20px"})),a.a.createElement(Cn,null,a.a.createElement(P,{large:!0,color:"danger",leftIcon:"cancel",onClick:function(){return n.push("/surveys")}},"Cancel"),a.a.createElement(W,{width:"40px"}),a.a.createElement(P,{large:!0,color:"secondary",textColor:re.colors.textNormal,leftIcon:"check_circle",onClick:function(){var e={survey:v.id,answers:[]};e.answers=Object.entries(l).map((function(e){var n=Object(i.a)(e,2);return{question:n[0],answer:n[1]}})),console.log(e),ne.post("/entries",e).then((function(){Vn.b.success("\u2611 Survey submitted successfuly!"),n.push("/")})).catch((function(e){var n,t;Vn.b.error("Error submiting survey: "+(null===e||void 0===e?void 0:null===(n=e.response)||void 0===n?void 0:null===(t=n.data)||void 0===t?void 0:t.message))}))}},"Submit")))))}function Yn(e){return e.split("/").slice(0,-1).join("/")}function Gn(e,n){var t=n.map((function(n,t){return n.id===e?t:null})).filter((function(e){return e})),r=n[t+1];return(null===r||void 0===r?void 0:r.id)?r.id:null}function Hn(e){return e.split("/").slice(-1).join("")}var Zn=t(15);function Kn(){var e=Object(b.a)(["\n  border-bottom: none !important;\n  margin-bottom: 0 !important;\n  text-align: center;\n"]);return Kn=function(){return e},e}function Mn(){var e=Object(b.a)(["\n  margin-top: 30px;\n"]);return Mn=function(){return e},e}function Xn(){var e=Object(b.a)(["\n  cursor: pointer;\n"]);return Xn=function(){return e},e}function $n(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n"]);return $n=function(){return e},e}function et(){var e=Object(b.a)(["\n  color: "," !important;\n\n  ","\n"]);return et=function(){return e},e}function nt(){var e=Object(b.a)(["\n  color: ",";\n\n  background-color: transparent;\n  border: none !important;\n  box-shadow: none !important;\n  margin-bottom: 0 !important;\n\n  &:focus {\n    border: none !important;\n    box-shadow: none !important;\n  }\n"]);return nt=function(){return e},e}function tt(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n"]);return tt=function(){return e},e}function rt(){var e=Object(b.a)(["\n  font-size: 30px !important;\n  line-height: 30px !important;\n  height: 60px !important;\n  display: flex;\n  flex: 1;\n\n  & input {\n    font-size: 30px;\n    line-height: 30px;\n  }\n  & + label {\n    font-size: 30px;\n    line-height: 10px;\n    /* font-size: 16px; */\n    /* line-height: 30px; */\n    pointer-events: none;\n    padding-bottom: 5px;\n  }\n"]);return rt=function(){return e},e}function at(){var e=Object(b.a)(["\n  margin: 15px !important;\n  width: auto;\n"]);return at=function(){return e},e}function ot(){var e=Object(b.a)(["\n  width: 100%;\n"]);return ot=function(){return e},e}function ct(){var e=Object(b.a)(["\n  display: flex;\n  flex: 4;\n  min-height: 600px;\n"]);return ct=function(){return e},e}function it(){var e=Object(b.a)([""]);return it=function(){return e},e}function lt(){var e=Object(b.a)(["\n  font-size: 1.3em;\n  margin: 0;\n"]);return lt=function(){return e},e}function ut(){var e=Object(b.a)(["\n  font-size: 1.3em;\n  margin: 0;\n"]);return ut=function(){return e},e}function st(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  padding: 20px;\n"]);return st=function(){return e},e}function dt(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  border-left: ",";\n  &:hover {\n    background-color: ",";\n    cursor: pointer;\n  }\n\n  ","\n"]);return dt=function(){return e},e}function ft(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  min-height: 600px;\n  flex: 1;\n  /* background-color: #ff00000f; */\n  margin-left: 15px;\n  margin-right: 15px;\n\n  text-overflow: ellipsis;\n"]);return ft=function(){return e},e}function mt(){var e=Object(b.a)(["\n  display: flex;\n  justify-content: center;\n  /* flex: 1; */\n  flex-direction: row;\n  width: 100%;\n  margin-top: 50px;\n"]);return mt=function(){return e},e}function pt(){var e=Object(b.a)(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  flex: 1;\n  flex-direction: column;\n  background-color: ",";\n  max-width: 1200px;\n  width: 100%;\n"]);return pt=function(){return e},e}var vt=Object(l.b)(g)(pt(),(function(e){return e.theme.colors.backgroundColor})),bt=l.b.div(mt()),ht=l.b.div(ft()),gt=l.b.div(dt(),(function(e){return e.theme.colors.secondary}),(function(e){return"".concat(e.theme.colors.secondary,"0f")}),(function(e){return e.selected?"border-left: 4px solid ".concat(e.theme.colors.secondary,";\n        color: ").concat(e.theme.colors.secondary,"; \n  font-weight: bold;"):"border-left: 4px solid ".concat(e.theme.colors.secondary,"44;\n      color: ").concat(e.theme.colors.secondary,"44;\n  font-weight: normal;")})),xt=l.b.div(st()),Et=(l.b.p(ut()),l.b.p(lt())),jt=l.b.div(it()),Ot=l.b.div(ct()),yt=Object(l.b)(O)(ot()),wt=Object(l.b)(P)(at()),kt=Object(l.b)(_)(rt()),Ct=l.b.div(tt()),St=l.b.input(nt(),(function(e){return e.theme.colors.secondary})),It=l.b.i(et(),(function(e){return e.theme.colors.secondary}),(function(e){return e.danger&&"\n    color: ".concat(e.theme.colors.danger," !important;\n  ")})),Nt=l.b.div($n()),zt=l.b.div(Xn()),At=l.b.div(Mn()),qt=Object(l.b)(kt)(Kn()),Lt=t(26),Ut={title:"",options:["ion 1"]};function Dt(e){var n=e.history,t=Object(r.useState)([Object(p.a)({},Ut)]),o=Object(i.a)(t,2),c=o[0],l=o[1],u=Object(r.useState)(0),s=Object(i.a)(u,2),d=s[0],f=s[1],m=Object(r.useState)([]),v=Object(i.a)(m,2),b=v[0],h=v[1],g=Object(r.useState)(""),x=Object(i.a)(g,2),E=x[0],j=x[1],O=Object(r.useState)(""),y=Object(i.a)(O,2),w=y[0],k=y[1];Object(r.useEffect)((function(){var e;h((null===(e=c[d])||void 0===e?void 0:e.options)||[])}),[d]),Object(r.useEffect)((function(){var e;j((null===(e=c[d])||void 0===e?void 0:e.title)||"")}),[d]);Object(r.useEffect)((function(){Object(Lt.debounce)((function(){return e=d,n=b,Object(Zn.a)(c)[e].options=n||b,void l(c);var e,n}),100)()}),[b]),Object(r.useEffect)((function(){Object(Lt.debounce)((function(){return e=d,n=E,Object(Zn.a)(c)[e].title=n||E,void l(c);var e,n}),100)()}),[E]);var C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"IDLE",t={title:w,description:"",questions:c.map((function(e){return Object(p.a)({},e,{options:Object(Lt.uniqBy)(e.options,(function(e){return e}))})})),status:e};c.some((function(e){return!e.title}))&&Vn.b.error("Error: Some question(s) are untitled"),ne.post("/surveys",t).then((function(){Vn.b.success("\u2611 Survey created successfuly!"),n.push("/")})).catch((function(e){var n,t;Vn.b.error("Error creating survey: "+(null===e||void 0===e?void 0:null===(n=e.response)||void 0===n?void 0:null===(t=n.data)||void 0===t?void 0:t.message)||!1)}))};return a.a.createElement(vt,null,a.a.createElement(Xe,{createSurvey:!1,leftButtons:[a.a.createElement(wt,{color:"green",onClick:function(){return C("ACTIVE")}},"Save And Publish"),a.a.createElement(wt,{color:"purple",onClick:function(){return C("IDLE")}},"Save")]}),a.a.createElement(At,null,a.a.createElement(qt,{placeholder:"Survey Name",value:w,onChange:function(e){return k(e.target.value)}})),a.a.createElement(bt,null,a.a.createElement(ht,null,a.a.createElement(wt,{color:"green",rightIcon:"add",onClick:function(){c.length>=10?Vn.b.error("You can only have up to 10 questions"):l([].concat(Object(Zn.a)(c),[Object(p.a)({},Ut)]))}},"New Question"),null===c||void 0===c?void 0:c.map((function(e,n){return a.a.createElement(gt,{selected:d===n,onClick:function(){return function(e){f(e)}(n)}},a.a.createElement(xt,null,a.a.createElement(Et,null,e.title||"Untitled")))})),a.a.createElement(W,{height:"10px;"})),a.a.createElement(Ot,null,a.a.createElement(yt,null,a.a.createElement(Nt,null,a.a.createElement(kt,{onChange:function(e){var n=e.target.value;j(n)},value:E,placeholder:"question"}),a.a.createElement(jt,null,a.a.createElement(wt,{color:"danger",onClick:function(){return function(e){if(1!==c.length){var n=Object(Zn.a)(c);n.splice(e,1),l(n),f(0)}else Vn.b.error("You need at least one question")}(d)}},a.a.createElement(It,{className:"material-icons left"},"cancel"),"Delete Question"))),b.map((function(e,n){return a.a.createElement(Ct,null,a.a.createElement(It,{className:"material-icons left"},"menu"),a.a.createElement(St,{placeholder:"Option",value:e,onChange:function(e){return function(e,n){var t=e.target.value,r=Object(Zn.a)(b);r[n]=t,h(r)}(e,n)}}),a.a.createElement(zt,{onClick:function(){return function(e){if(1!==b.length){var n=Object(Zn.a)(b);n.splice(e,1),h(n)}else Vn.b.error("You need at least one option")}(n)}},a.a.createElement(It,{className:"material-icons left"},"cancel")))})),a.a.createElement(wt,{color:"green",rightIcon:"add",onClick:function(){if(b.length>=5)Vn.b.error("You can only add a maximum of 5 options");else{var e=[].concat(Object(Zn.a)(b),["Option"]);h(e)}}},"Add")))))}var Bt=function(e){var n,t,o=e.component,c=Object(x.a)(e,["component"]),i=Object(r.useContext)(d).user,l="COORDINATOR"===(null===i||void 0===i?void 0:null===(n=i.data)||void 0===n?void 0:null===(t=n.role)||void 0===t?void 0:t.toUpperCase());return a.a.createElement(s.b,Object.assign({},c,{render:function(e){return!0===l?a.a.createElement(o,e):a.a.createElement(s.a,{to:"/"})}}))};t(82),t(83);var Ft=function(){var e=Object(r.useState)({isLoggedIn:!1}),n=Object(i.a)(e,2),t=n[0],o=n[1];return Object(r.useEffect)((function(){var e=localStorage.getItem("user");e&&(e=JSON.parse(e),o(e))}),[]),a.a.createElement(l.a,{theme:re},a.a.createElement(d.Provider,{value:{user:t,setUser:o}},a.a.createElement(u.a,{basename:"/"},a.a.createElement(s.d,null,a.a.createElement(Bt,{path:"/create",component:Dt}),a.a.createElement(s.b,{exact:!0,path:"/survey/:surveyId/complete",component:Wn}),a.a.createElement(s.b,{exact:!0,path:"/survey/:surveyId",component:Wn}),a.a.createElement(s.b,{exact:!0,path:"/survey/:surveyId/questions/:questionId",component:Wn}),a.a.createElement(s.b,{path:"/register",component:sn}),a.a.createElement(s.b,{path:"/results/:id",component:hn,exact:!0}),a.a.createElement(s.b,{path:"/login",component:te}),a.a.createElement(s.b,{path:"/",component:nn}))),a.a.createElement(Vn.a,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(Ft,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[49,1,2]]]);
//# sourceMappingURL=main.598d21ab.chunk.js.map