(this["webpackJsonpsurvey-app"]=this["webpackJsonpsurvey-app"]||[]).push([[0],{18:function(e,n,t){e.exports=t.p+"static/media/flame-sign-up.90821be9.png"},44:function(e,n,t){e.exports=t.p+"static/media/task-done.b351d20f.png"},45:function(e,n,t){e.exports=t.p+"static/media/bermuda-welcome.9963302c.png"},48:function(e,n,t){e.exports=t(83)},53:function(e,n,t){},56:function(e,n,t){},83:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(17),c=t.n(o),i=(t(53),t(5)),l=t(2),u=t(16),s=t(14),d=a.a.createContext(),f=t(19),m=t.n(f),p=t(13),b=t(24),v=t(3);function h(){var e=Object(v.a)(["\n  max-width: 1200px;\n  align-self: center;\n  justify-self: center;\n  flex: 1;\n  /* min-height: 100vh; */\n"]);return h=function(){return e},e}var g=l.b.div(h()),x=t(8);function E(){var e=Object(v.a)(["\n  /* min-width: ","; */\n  background-color: rgba(200, 200, 200, 0.1);\n  padding: 50px;\n  margin: 20px;\n  box-shadow: 0px 5px 10px rgba(200, 150, 150, 0.1);\n"]);return E=function(){return e},e}var j=l.b.div(E(),(function(e){return e.width&&e.width}));function O(e){var n=e.children,t=Object(x.a)(e,["children"]);return a.a.createElement(j,t,n)}function y(){var e=Object(v.a)(["\n  color: red;\n"]);return y=function(){return e},e}function w(){var e=Object(v.a)(["\n  max-width: 500px;\n  width: 90%;\n"]);return w=function(){return e},e}function k(){var e=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  align-self: stretch;\n  justify-content: center;\n"]);return k=function(){return e},e}function C(){var e=Object(v.a)(["\n  color: ",";\n  /* text-transform: uppercase; */\n"]);return C=function(){return e},e}function S(){var e=Object(v.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex: 1;\n  flex-direction: column;\n  background-color: ",";\n  width: 100%;\n  margin-top: 50px;\n  margin-bottom: 50px;\n"]);return S=function(){return e},e}var I=Object(l.b)(g)(S(),(function(e){return e.theme.colors.backgroundColor})),N=l.b.h2(C(),(function(e){return e.theme.colors.secondary})),z=l.b.div(k()),A=Object(l.b)(O)(w()),q=l.b.p(y());t(56);function L(){var e=Object(v.a)(["\n  color: ",";\n"]);return L=function(){return e},e}function U(){var e=Object(v.a)(["\n  color: ",";\n"]);return U=function(){return e},e}function D(){var e=Object(v.a)(["\n  color: ",";\n"]);return D=function(){return e},e}var B=l.b.i(D(),(function(e){return e.theme.colors.secondary})),F=l.b.input(U(),(function(e){return e.theme.colors.secondary})),T=l.b.label(L(),(function(e){return e.theme.colors.secondary}));function _(e){var n=e.icon,t=e.label,r=e.id,o=Object(x.a)(e,["icon","label","id"]);return a.a.createElement("div",{className:"input-field"},n&&a.a.createElement(B,{className:"material-icons prefix"},n),a.a.createElement(F,Object.assign({id:r,type:"text",className:"validate"},o)),a.a.createElement(T,{htmlFor:r},t))}function Q(){var e=Object(v.a)(["\n  background-color: ",";\n  color: ",";\n  border-radius: ",";\n\n  &:hover,\n  &:focus,\n  &:active {\n    background-color: "," !important;\n    filter: brightness(0.9);\n  }\n\n  ","\n"]);return Q=function(){return e},e}var J=l.b.button(Q(),(function(e){return e.color?e.theme.colors[e.color]:e.theme.colors.primary}),(function(e){return e.textColor?e.textColor:e.theme.colors.secondary}),(function(e){return e.rounded?"50px":"2px"}),(function(e){return e.color?e.theme.colors[e.color]:e.theme.colors.primary}),(function(e){return e.block&&"\n    width: 100%;\n  "}));function P(e){var n=e.leftIcon,t=e.rightIcon,r=e.children,o=e.large,c=e.block,i=e.disabled,l=e.className,u=Object(x.a)(e,["leftIcon","rightIcon","children","large","block","disabled","className"]);return a.a.createElement(J,Object.assign({},u,{block:c,className:"btn waves-effect waves-light z-depth-0 ".concat(o&&"btn-large"," ").concat(i&&"disabled"," ").concat(l)}),n&&a.a.createElement("i",{className:"material-icons left"},n),r,t&&a.a.createElement("i",{className:"material-icons right"},t))}function R(){var e=Object(v.a)(["\n  height: ",";\n  width: ",";\n"]);return R=function(){return e},e}var V=l.b.div(R(),(function(e){return e.height}),(function(e){return e.width}));function W(e){var n=Object.assign({},e);return a.a.createElement(V,n)}function Y(){var e=Object(v.a)(["\n  width: 100%;\n"]);return Y=function(){return e},e}function G(){var e=Object(v.a)(["\n  object-fit: contain;\n  width: ",";\n  ","\n"]);return G=function(){return e},e}var H=l.b.div(G(),(function(e){return e.size?e.size:"200px"}),(function(e){return e.clickable&&"cursor: pointer"})),Z=l.b.img(Y());function K(e){var n=e.size,t=void 0===n?"200px":n,r=e.clickable,o=Object(x.a)(e,["size","clickable"]);return a.a.createElement(H,{size:t,clickable:r},a.a.createElement(Z,o))}var M=t(18),X=t.n(M),$=t(57).create({baseURL:"https://nextly-survey.herokuapp.com/"}),ee=localStorage.getItem("user");ee&&(ee=JSON.parse(ee),$.defaults.headers.common={Authorization:"Bearer ".concat(ee.token)});var ne=$;function te(e){var n=e.history,t=Object(r.useContext)(d),o=t.setUser,c=t.user,l=Object(r.useState)(),u=Object(i.a)(l,2),s=u[0],f=u[1],v=Object(r.useState)(),h=Object(i.a)(v,2),g=h[0],x=h[1],E=Object(r.useState)(),j=Object(i.a)(E,2),O=j[0],y=j[1],w=function(){var e=Object(b.a)(m.a.mark((function e(t,r){var a,i,l,u;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne.post("/users/auth",{email:t,password:r});case 3:a=e.sent,console.log(a),ne.defaults.headers.common={Authorization:"Bearer ".concat(a.data.token)},i=Object(p.a)({},c,{isLoggedIn:!0,data:a.data.user,token:a.data.token}),o(i),localStorage.setItem("user",JSON.stringify(i)),n.push("/"),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),u=e.t0.response,console.log(u),y((null===u||void 0===u?void 0:null===(l=u.data)||void 0===l?void 0:l.message)||"Unexpected error");case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(n,t){return e.apply(this,arguments)}}();return console.log(s,g),a.a.createElement(I,null,a.a.createElement(K,{src:X.a}),a.a.createElement(N,null,"Sign In"),a.a.createElement(A,null,a.a.createElement("form",{className:"col s12"},a.a.createElement(_,{id:"email",name:"email",icon:"mail_outline",type:"email",label:"Email Address",value:s,onChange:function(e){return y()||f(e.target.value)}}),a.a.createElement(_,{id:"password",name:"password",icon:"lock_outline",type:"password",label:"Password",value:g,onChange:function(e){return y()||x(e.target.value)}})),a.a.createElement(q,null,O),a.a.createElement(W,{height:"20px"}),a.a.createElement(z,null,a.a.createElement(P,{onClick:function(){return w(s,g)}},"Sign In"),a.a.createElement(W,{height:"20px"}),a.a.createElement(P,{onClick:function(){return n.push("/register")},color:"purple"},"Create Account"))))}var re={colors:{backgroundColor:"#3646AA",primary:"#5CD4A0",secondary:"#F2F2F2",danger:"#9B291F",purple:"#8e44ad",textNormal:"#3C4659",textLight:"#ADADC4",red:"#8F0000",green:"#3FA69A"}};t(74);function ae(){var e=Object(v.a)(["\n  color: ",";\n  /* text-transform: uppercase; */\n"]);return ae=function(){return e},e}function oe(){var e=Object(v.a)(["\n  display: flex;\n  justify-content: stretch;\n  align-items: flex-start;\n  flex-direction: row;\n  flex-wrap: wrap;\n  width: 100%;\n"]);return oe=function(){return e},e}function ce(){var e=Object(v.a)(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  align-self: center;\n  flex: 1;\n  flex-direction: column;\n  background-color: ",";\n  max-width: 1200px;\n  /* margin: 0 auto; */\n  width: 100%;\n  /* margin-top: 50px; */\n  margin-bottom: 50px;\n"]);return ce=function(){return e},e}var ie=l.b.div(ce(),(function(e){return e.theme.colors.backgroundColor})),le=l.b.div(oe()),ue=l.b.h2(ae(),(function(e){return e.theme.colors.secondary}));function se(){var e=Object(v.a)(["\n  padding-top: 10px;\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n"]);return se=function(){return e},e}function de(){var e=Object(v.a)(["\n  font-size: 1rem;\n  color: ",";\n"]);return de=function(){return e},e}function fe(){var e=Object(v.a)(["\n  /* padding: 10px; */\n"]);return fe=function(){return e},e}function me(){var e=Object(v.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: flex-start;\n  flex-direction: column;\n  /* height: 150px; */\n"]);return me=function(){return e},e}function pe(){var e=Object(v.a)(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  flex-direction: row;\n  /* height: 150px; */\n  /* padding: 10px; */\n  overflow: hidden;\n"]);return pe=function(){return e},e}function be(){var e=Object(v.a)(["\n  color: ",";\n  font-size: 1.1rem;\n  margin: 0;\n"]);return be=function(){return e},e}function ve(){var e=Object(v.a)(["\n  object-fit: contain;\n  height: 100%;\n  /* width: 100%; */\n  border-radius: 15px;\n"]);return ve=function(){return e},e}function he(){var e=Object(v.a)(["\n  height: 80px;\n  max-width: 150px;\n  margin-right: 20px;\n"]);return he=function(){return e},e}function ge(){var e=Object(v.a)(["\n  font-weight: bold;\n  color: ",";\n  font-size: 1.3rem;\n  margin: 0;\n  text-transform: capitalize;\n"]);return ge=function(){return e},e}function xe(){var e=Object(v.a)(["\n  background-color: ",";\n  box-shadow: 0px 5px 10px rgba(200, 150, 150, 0.1);\n  margin-right: 15px;\n  margin-left: 15px;\n  padding: 40px;\n  border-radius: 15px;\n  margin-bottom: 30px;\n\n  @media (min-width: 1025px) {\n    width: calc(33% - 30px);\n    flex-basis: calc(33% - 30px);\n  }\n  @media (max-width: 1024px) {\n    width: calc(50% - 30px);\n    flex-basis: calc(50% - 30px);\n  }\n  @media (max-width: 768px) {\n    width: calc(100% - 30px);\n    flex-basis: calc(100% - 30px);\n  }\n"]);return xe=function(){return e},e}var Ee=l.b.div(xe(),(function(e){return e.theme.colors.secondary})),je=l.b.p(ge(),(function(e){return e.theme.colors.textNormal})),Oe=(l.b.div(he()),l.b.img(ve()),l.b.p(be(),(function(e){return e.theme.colors.textNormal}))),ye=l.b.div(pe()),we=l.b.div(me()),ke=l.b.div(fe()),Ce=l.b.p(de(),(function(e){return e.theme.colors.textNormal})),Se=l.b.div(se()),Ie=Object(s.g)((function(e){var n,t,o=e.history,c=e.title,i=void 0===c?"IT Executive Compensation Study":c,l=(e.description,e.numQuestions),u=e.status,s=e.refetchData,f=void 0===s?function(){}:s,m=e.surveyId,p=void 0===m?"123":m,b=Object(r.useContext)(d).user,v="IDLE"===(null===u||void 0===u?void 0:u.toUpperCase()),h="ACTIVE"===(null===u||void 0===u?void 0:u.toUpperCase()),g="COORDINATOR"===(null===b||void 0===b?void 0:null===(n=b.data)||void 0===n?void 0:null===(t=n.role)||void 0===t?void 0:t.toUpperCase()),x=function(e){ne.put("/surveys/status/"+p,{status:e}).then(f).catch(console.log)};return a.a.createElement(Ee,null,a.a.createElement(ye,null,a.a.createElement(we,null,a.a.createElement(Oe,null,a.a.createElement("i",{className:"material-icons left"},"event_note"),"Survey"),a.a.createElement(je,null,i))),a.a.createElement(ke,null,a.a.createElement(Ce,null,l," questions (",.25*l," minutes)")),a.a.createElement(Se,null,v?a.a.createElement(P,{color:"primary",rounded:!0,onClick:function(){return x("ACTIVE")}},"Open Survey"):a.a.createElement(P,{color:h?"purple":"green",rounded:!0,onClick:function(){return o.push("/results/".concat(p))}},h?"Take Survey":"See Results"),g&&h&&a.a.createElement(a.a.Fragment,null,a.a.createElement(W,{height:"15px"}),a.a.createElement(P,{color:"red",rounded:!0,onClick:function(){return x("CLOSED")}},"Close Survey"))))}));function Ne(){var e=Object(v.a)(["\n  cursor: pointer;\n  color: white;\n"]);return Ne=function(){return e},e}function ze(){var e=Object(v.a)(["\n  margin: 0;\n  padding-right: 15px;\n  padding-left: 15px;\n  color: ",";\n  font-weight: bold;\n"]);return ze=function(){return e},e}function Ae(){var e=Object(v.a)(["\n  margin: 0;\n  padding: 10px;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  user-select: none;\n"]);return Ae=function(){return e},e}function qe(){var e=Object(v.a)(["\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n"]);return qe=function(){return e},e}function Le(){var e=Object(v.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n"]);return Le=function(){return e},e}function Ue(){var e=Object(v.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n"]);return Ue=function(){return e},e}function De(){var e=Object(v.a)(["\n  height: 80px;\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 30px;\n  min-width: 100%;\n  margin-top: 30px;\n"]);return De=function(){return e},e}var Be=l.b.div(De()),Fe=l.b.div(Ue()),Te=l.b.div(Le()),_e=l.b.div(qe()),Qe=Object(l.b)(O)(Ae()),Je=l.b.p(ze(),(function(e){return e.theme.colors.secondary})),Pe=l.b.span(Ne());function Re(){var e=Object(v.a)(["\n  height: 100%;\n  width: 100%;\n  object-fit: cover;\n"]);return Re=function(){return e},e}function Ve(){var e=Object(v.a)(["\n  border-radius: 50%;\n  width: ",";\n  height: ",";\n  overflow: hidden;\n"]);return Ve=function(){return e},e}var We=l.b.div(Ve(),(function(e){return e.size}),(function(e){return e.size})),Ye=l.b.img(Re());function Ge(e){var n=e.src,t=e.size,r=Object(x.a)(e,["src","size"]);return a.a.createElement(We,{size:t},a.a.createElement(Ye,Object.assign({src:n},r)))}var He=Object(s.g)((function(e){var n,t,o=e.history,c=e.createSurvey,i=void 0===c||c,l=e.showUser,u=void 0===l||l,s=e.showHome,f=void 0!==s&&s,m=e.leftButtons,p=Object(r.useContext)(d),b=p.user,v=p.setUser,h="COORDINATOR"===(null===b||void 0===b?void 0:null===(n=b.data)||void 0===n?void 0:null===(t=n.role)||void 0===t?void 0:t.toUpperCase()),g=(null===b||void 0===b?void 0:b.isLoggedIn)?a.a.createElement("p",{style:{color:"white"}},"Welcome ",b.data.name,"."," ",a.a.createElement(Pe,{onClick:function(){localStorage.removeItem("user"),v({isLoggedIn:!1}),ne.defaults.headers.common.Authorization=void 0}},"Logout.")):a.a.createElement(Qe,{onClick:function(){return o.push("/login")}},a.a.createElement(Je,null,"Login"),a.a.createElement(Ge,{size:"25px",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcTK1J-i3ZrWnicHdauDJ1ZUN9laTSlb1xG0bhlf9a484BGIL2JL"}));return a.a.createElement(Be,null,a.a.createElement(Fe,null,f?a.a.createElement(Pe,{onClick:function(){return o.push("/")}},"Home"):i&&h&&a.a.createElement(P,{color:"green",onClick:function(){return o.push("/create")}},"Create New Survey"),m&&m),a.a.createElement(_e,null,a.a.createElement(K,{clickable:!0,size:"50px",src:X.a,onClick:function(){return o.push("/")}})),a.a.createElement(Te,null,u&&g))}));function Ze(){var e=Object(r.useState)(!0),n=Object(i.a)(e,2),t=n[0],o=n[1],c=Object(r.useState)(),l=Object(i.a)(c,2),u=(l[0],l[1],Object(r.useState)()),s=Object(i.a)(u,2),f=s[0],m=s[1],p=Object(r.useState)(),b=Object(i.a)(p,2),v=b[0],h=b[1],g=Object(r.useState)(),x=Object(i.a)(g,2),E=x[0],j=x[1],O=Object(r.useContext)(d).user,y=function(){ne.get("/surveys/").then((function(e){var n,t,r;o(!1),m(null===e||void 0===e?void 0:null===(n=e.data)||void 0===n?void 0:n.filter((function(e){return"CLOSED"===e.status}))),h(null===e||void 0===e?void 0:null===(t=e.data)||void 0===t?void 0:t.filter((function(e){return"ACTIVE"===e.status}))),j(null===e||void 0===e?void 0:null===(r=e.data)||void 0===r?void 0:r.filter((function(e){return"IDLE"===e.status}))),console.log(e.data)})).catch((function(e){e.response;o(!1)}))};return Object(r.useEffect)(y,[O]),a.a.createElement(ie,null,a.a.createElement(He,null),!t&&(null===v||void 0===v?void 0:v.length)&&a.a.createElement(a.a.Fragment,null,a.a.createElement(W,{height:"50px"}),a.a.createElement(ue,null,"Active Surveys"),a.a.createElement(W,{height:"20px"}),a.a.createElement(le,null,null===v||void 0===v?void 0:v.map((function(e){return a.a.createElement(Ie,{key:e.id,title:e.title,surveyId:e.id,numQuestions:e.questions.length,status:e.status,refetchData:y})})))),!t&&(null===E||void 0===E?void 0:E.length)&&a.a.createElement(a.a.Fragment,null,a.a.createElement(W,{height:"50px"}),a.a.createElement(ue,null,"Idle Surveys"),a.a.createElement(W,{height:"20px"}),a.a.createElement(le,null,null===E||void 0===E?void 0:E.map((function(e){return a.a.createElement(Ie,{key:e.id,title:e.title,surveyId:e.id,numQuestions:e.questions.length,status:e.status,refetchData:y})})))),!t&&(null===f||void 0===f?void 0:f.length)&&a.a.createElement(a.a.Fragment,null,a.a.createElement(W,{height:"50px"}),a.a.createElement(ue,null,"Closed Surveys"),a.a.createElement(W,{height:"20px"}),a.a.createElement(le,null,null===f||void 0===f?void 0:f.map((function(e){return a.a.createElement(Ie,{key:e.id,title:e.title,surveyId:e.id,numQuestions:e.questions.length,status:e.status,refetchData:y})})))))}function Ke(){var e=Object(v.a)(["\n  color: ",";\n"]);return Ke=function(){return e},e}function Me(){var e=Object(v.a)(["\n  color: ",";\n"]);return Me=function(){return e},e}function Xe(){var e=Object(v.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  cursor: pointer;\n"]);return Xe=function(){return e},e}var $e=l.b.div(Xe()),en=l.b.p(Me(),(function(e){return re.colors.secondary})),nn=l.b.i(Ke(),(function(e){return e.theme.colors.secondary}));function tn(e){e.icon;var n=e.onClick,t=e.children;return a.a.createElement($e,{onClick:n},a.a.createElement(nn,{className:"material-icons prefix"},"chevron_left"),a.a.createElement(en,null,t))}function rn(e){var n=e.history,t=Object(r.useContext)(d),o=t.user,c=t.setUser,l=Object(r.useState)(),u=Object(i.a)(l,2),s=u[0],f=u[1],v=Object(r.useState)(),h=Object(i.a)(v,2),g=h[0],x=h[1],E=Object(r.useState)(),j=Object(i.a)(E,2),O=j[0],y=j[1],w=Object(r.useState)(),k=Object(i.a)(w,2),C=k[0],S=k[1],L=Object(r.useState)(),U=Object(i.a)(L,2),D=U[0],B=U[1],F=function(){var e=Object(b.a)(m.a.mark((function e(){var t,r,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s&&g&&O&&C){e.next=3;break}return B("Please, fill all data."),e.abrupt("return");case 3:return e.prev=3,e.next=6,ne.post("/users",{email:s,password:g,username:O,name:C});case 6:t=e.sent,ne.defaults.headers.common={Authorization:"Bearer ".concat(t.data.token)},r=Object(p.a)({},o,{isLoggedIn:!0,data:t.data.user,token:t.data.token}),c(r),localStorage.setItem("user",JSON.stringify(r)),n.push("/"),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(3),a=e.t0.response,console.log(a),B((null===a||void 0===a?void 0:a.data)||"Unexpected error");case 19:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(I,null,a.a.createElement(K,{src:X.a}),a.a.createElement(N,null,"Sign Up"),a.a.createElement(A,{width:"50%"},a.a.createElement(tn,{onClick:function(){return n.push("/login")}},"Back to Login"),a.a.createElement("form",{className:"col s12"},a.a.createElement(_,{id:"email",name:"email",icon:"mail_outline",type:"email",label:"Email Address",value:s,onChange:function(e){return f(e.target.value)},required:!0}),a.a.createElement(_,{id:"password",name:"password",icon:"lock_outline",type:"password",label:"Password",value:g,onChange:function(e){return x(e.target.value)},required:!0}),a.a.createElement(_,{id:"username",name:"username",icon:"person_outline",type:"text",label:"Username",value:O,onChange:function(e){return y(e.target.value)},required:!0}),a.a.createElement(_,{id:"fullname",name:"fullname",icon:"face",type:"text",label:"Full Name",value:C,onChange:function(e){return S(e.target.value)},required:!0})),a.a.createElement(q,null,D),a.a.createElement(W,{height:"20px"}),a.a.createElement(z,null,a.a.createElement(P,{color:"purple",onClick:F},"Create Account"))))}function an(){var e=Object(v.a)(["\n  color: white;\n"]);return an=function(){return e},e}function on(){var e=Object(v.a)(["\n  color: ",";\n  /* text-transform: uppercase; */\n"]);return on=function(){return e},e}function cn(){var e=Object(v.a)(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  flex: 1;\n  flex-direction: column;\n  background-color: ",";\n  max-width: 1200px;\n  width: 100%;\n"]);return cn=function(){return e},e}var ln=Object(l.b)(g)(cn(),(function(e){return e.theme.colors.backgroundColor})),un=l.b.h2(on(),(function(e){return e.theme.colors.secondary})),sn=l.b.p(an());function dn(e){e.history;var n=e.match,t=Object(r.useState)(),o=Object(i.a)(t,2),c=o[0],l=o[1];return Object(r.useEffect)((function(){ne.get("/surveys/".concat(n.params.id,"/result")).then((function(e){console.log(e),l(null===e||void 0===e?void 0:e.data)})).catch(console.log)}),[n.params.id]),a.a.createElement(ln,null,a.a.createElement(He,null),c&&a.a.createElement(a.a.Fragment,null,a.a.createElement(un,null,c.title),a.a.createElement(sn,null,c.description),function(e){var n;return null===e||void 0===e?void 0:null===(n=e.questions)||void 0===n?void 0:n.map((function(e){var n;return a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,"Question: "+e.title),null===e||void 0===e?void 0:null===(n=e.options)||void 0===n?void 0:n.map((function(n,t){return a.a.createElement("p",null,n,": ",e.result[t])})))}))}(c)))}function fn(){var e=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  text-align: center;\n  align-items: center;\n"]);return fn=function(){return e},e}function mn(){var e=Object(v.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  padding-top: 50px;\n"]);return mn=function(){return e},e}function pn(){var e=Object(v.a)(["\n  font-weight: bold;\n  padding-left: 20px;\n  padding-right: 20px;\n  font-size: 2.5em;\n  text-transform: capitalize;\n"]);return pn=function(){return e},e}function bn(){var e=Object(v.a)(["\n  width: 90%;\n  margin-left: 15px;\n  margin-right: 15px;\n  margin-bottom: 50px;\n  padding-left: 20px;\n  padding-right: 20px;\n  color: ",";\n\n  @media (min-width: 900px) {\n    padding-left: 60px;\n    padding-right: 60px;\n  }\n"]);return bn=function(){return e},e}function vn(){var e=Object(v.a)(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  flex: 1;\n  flex-direction: column;\n  background-color: ",";\n  max-width: 1200px;\n  width: 100%;\n"]);return vn=function(){return e},e}var hn=Object(l.b)(g)(vn(),(function(e){return e.theme.colors.backgroundColor})),gn=Object(l.b)(O)(bn(),(function(e){return e.theme.colors.secondary})),xn=l.b.h2(pn()),En=l.b.div(mn()),jn=l.b.div(fn()),On=t(23);function yn(){var e=Object(v.a)(["\n  user-select: none;\n  padding: 20px;\n  font-size: 2rem;\n  ","\n"]);return yn=function(){return e},e}function wn(){var e=Object(v.a)(["\n  font-size: 1.3rem;\n  user-select: none;\n\n  @media (max-width: 900px) {\n    font-size: 1.1rem;\n  }\n\n  ","\n"]);return wn=function(){return e},e}function kn(){var e=Object(v.a)(["\n  flex: 1;\n  padding: 15px 5px;\n  padding-left: 15px;\n  text-transform: capitalize;\n"]);return kn=function(){return e},e}function Cn(){var e=Object(v.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  cursor: pointer;\n  border: 1px solid #ffffff0f;\n  transition: all 0.1s;\n  /* "," */\n\n  &:hover {\n    background-color: rgba(100, 100, 110, 0.1);\n    i {\n      color: ",";\n    }\n  }\n\n\n  ","\n  \n"]);return Cn=function(){return e},e}var Sn=l.b.div(Cn(),(function(e){return e.selected?"border: 1px solid ".concat(e.theme.colors.primary,";"):"border: 1px solid #ffffff0f;"}),(function(e){return e.theme.colors.primary}),(function(e){return e.selected&&"\n    background-color: ".concat(e.theme.colors.secondary," !important;\n    color: ").concat(e.theme.colors.textNormal,";\n    box-shadow: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);\n    ")})),In=l.b.div(kn()),Nn=l.b.p(wn(),(function(e){return e.selected&&"\n    color: ".concat(e.theme.colors.textNormal,";\n    ")})),zn=l.b.i(yn(),(function(e){return e.selected&&"color: ".concat(e.theme.colors.primary,";")}));function An(e){var n=e.text,t=void 0===n?"Lorem ipsum dolor sit amet, consectetur adipiscing elit.":n,r=e.answerId,o=e.questionId,c=e.selected,i=void 0!==c&&c,l=e.selections,u=e.onSelect,s=void 0===u?function(){}:u;e.id;return a.a.createElement(Sn,{selected:i,onClick:function(){s(Object(p.a)({},l,Object(On.a)({},o,r)))}},a.a.createElement(In,null,a.a.createElement(Nn,null,t)),a.a.createElement(zn,{className:"material-icons",selected:i},i?"check_box":"check_box_outline_blank"))}var qn=t(44),Ln=t.n(qn),Un=t(45),Dn=t.n(Un),Bn=t(46),Fn=t.n(Bn),Tn=t(11);function _n(e){var n=e.history,t=e.match,o=Object(r.useState)({}),c=Object(i.a)(o,2),l=c[0],u=c[1],d=Fn()("https://nextly-survey.herokuapp.com/surveys/".concat(t.params.surveyId)),f=d.isLoading,m=d.data;if(f)return a.a.createElement(hn,null);var p=m.questions,b=Object(x.a)(m,["questions"]);console.log(p,b);var v=function(){var e=Jn(Pn(t.url),p);console.log({nextPageId:e}),console.log(Pn(t.url),p,e),e?n.push("".concat(Qn(t.url),"/").concat(Jn(Pn(t.url),p))):n.push("/survey/".concat(t.params.surveyId,"/complete"))};return a.a.createElement(hn,null,a.a.createElement(He,null),a.a.createElement(s.b,{exact:!0,path:"/survey/:surveyId"},a.a.createElement(gn,null,a.a.createElement(tn,{onClick:function(){return n.goBack()}},"Back to surveys"),a.a.createElement(jn,null,a.a.createElement(xn,null,"Take a Quick Survey"),a.a.createElement(W,{height:"20px"}),a.a.createElement(K,{src:Dn.a}),a.a.createElement(W,{height:"20px"}),a.a.createElement("div",null,p.length," QUESTIONS"),a.a.createElement("div",null," ",.25*p.length," MINUTES")),a.a.createElement(En,null,a.a.createElement(P,{large:!0,block:!0,color:"secondary",textColor:re.colors.textNormal,rightIcon:"chevron_right",onClick:function(){return n.push("/survey/".concat(t.params.surveyId,"/questions/").concat(p[0].id))}},"Start Now")))),p.map((function(e){return a.a.createElement(s.b,{exact:!0,path:"".concat(Qn(t.path),"/").concat(e.id)},a.a.createElement(gn,null,a.a.createElement(tn,{onClick:function(){return n.goBack()}},"Previous Question"),a.a.createElement(xn,null,e.title),a.a.createElement(W,{height:"20px"}),e.options.map((function(n){return a.a.createElement(An,{questionId:e.id,answerId:n,text:n,selected:l[e.id]===n,selections:l,onSelect:u})})),a.a.createElement(En,null,a.a.createElement(P,{large:!0,block:!0,disabled:!l[Pn(t.url)],color:"secondary",textColor:re.colors.textNormal,rightIcon:"chevron_right",onClick:v},"Next"))))})),a.a.createElement(s.b,{exact:!0,path:"/survey/:surveyId/complete"},a.a.createElement(gn,{center:!0},a.a.createElement(tn,{onClick:function(){return n.goBack()}},"Previous Question"),a.a.createElement(jn,null,a.a.createElement(xn,null,"Survey Completed"),a.a.createElement(W,{height:"20px"}),a.a.createElement(K,{src:Ln.a}),a.a.createElement(W,{height:"20px"})),a.a.createElement(En,null,a.a.createElement(P,{large:!0,color:"danger",leftIcon:"cancel",onClick:function(){return n.push("/surveys")}},"Cancel"),a.a.createElement(W,{width:"40px"}),a.a.createElement(P,{large:!0,color:"secondary",textColor:re.colors.textNormal,leftIcon:"check_circle",onClick:function(){var e={survey:b.id,answers:[]};e.answers=Object.entries(l).map((function(e){var n=Object(i.a)(e,2);return{question:n[0],answer:n[1]}})),console.log(e),ne.post("/entries",e).then((function(){Tn.b.success("\u2611 Survey submitted successfuly!"),n.push("/")})).catch((function(e){var n,t;Tn.b.error("Error submiting survey: "+(null===e||void 0===e?void 0:null===(n=e.response)||void 0===n?void 0:null===(t=n.data)||void 0===t?void 0:t.message))}))}},"Submit")))))}function Qn(e){return e.split("/").slice(0,-1).join("/")}function Jn(e,n){var t=n.map((function(n,t){return n.id===e?t:null})).filter((function(e){return e})),r=n[t+1];return(null===r||void 0===r?void 0:r.id)?r.id:null}function Pn(e){return e.split("/").slice(-1).join("")}var Rn=t(15);function Vn(){var e=Object(v.a)(["\n  border-bottom: none !important;\n  margin-bottom: 0 !important;\n  text-align: center;\n"]);return Vn=function(){return e},e}function Wn(){var e=Object(v.a)(["\n  margin-top: 30px;\n"]);return Wn=function(){return e},e}function Yn(){var e=Object(v.a)(["\n  cursor: pointer;\n"]);return Yn=function(){return e},e}function Gn(){var e=Object(v.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n"]);return Gn=function(){return e},e}function Hn(){var e=Object(v.a)(["\n  color: "," !important;\n\n  ","\n"]);return Hn=function(){return e},e}function Zn(){var e=Object(v.a)(["\n  color: ",";\n\n  background-color: transparent;\n  border: none !important;\n  box-shadow: none !important;\n  margin-bottom: 0 !important;\n\n  &:focus {\n    border: none !important;\n    box-shadow: none !important;\n  }\n"]);return Zn=function(){return e},e}function Kn(){var e=Object(v.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n"]);return Kn=function(){return e},e}function Mn(){var e=Object(v.a)(["\n  font-size: 30px !important;\n  line-height: 30px !important;\n  height: 60px !important;\n  display: flex;\n  flex: 1;\n\n  & input {\n    font-size: 30px;\n    line-height: 30px;\n  }\n  & + label {\n    font-size: 30px;\n    line-height: 10px;\n    /* font-size: 16px; */\n    /* line-height: 30px; */\n    pointer-events: none;\n    padding-bottom: 5px;\n  }\n"]);return Mn=function(){return e},e}function Xn(){var e=Object(v.a)(["\n  margin: 15px !important;\n  width: auto;\n"]);return Xn=function(){return e},e}function $n(){var e=Object(v.a)(["\n  width: 100%;\n"]);return $n=function(){return e},e}function et(){var e=Object(v.a)(["\n  display: flex;\n  flex: 4;\n  min-height: 600px;\n"]);return et=function(){return e},e}function nt(){var e=Object(v.a)([""]);return nt=function(){return e},e}function tt(){var e=Object(v.a)(["\n  font-size: 1.3em;\n  margin: 0;\n"]);return tt=function(){return e},e}function rt(){var e=Object(v.a)(["\n  font-size: 1.3em;\n  margin: 0;\n"]);return rt=function(){return e},e}function at(){var e=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  padding: 20px;\n"]);return at=function(){return e},e}function ot(){var e=Object(v.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  border-left: ",";\n  &:hover {\n    background-color: ",";\n    cursor: pointer;\n  }\n\n  ","\n"]);return ot=function(){return e},e}function ct(){var e=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  min-height: 600px;\n  flex: 1;\n  /* background-color: #ff00000f; */\n  margin-left: 15px;\n  margin-right: 15px;\n\n  text-overflow: ellipsis;\n"]);return ct=function(){return e},e}function it(){var e=Object(v.a)(["\n  display: flex;\n  justify-content: center;\n  /* flex: 1; */\n  flex-direction: row;\n  width: 100%;\n  margin-top: 50px;\n"]);return it=function(){return e},e}function lt(){var e=Object(v.a)(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  flex: 1;\n  flex-direction: column;\n  background-color: ",";\n  max-width: 1200px;\n  width: 100%;\n"]);return lt=function(){return e},e}var ut=Object(l.b)(g)(lt(),(function(e){return e.theme.colors.backgroundColor})),st=l.b.div(it()),dt=l.b.div(ct()),ft=l.b.div(ot(),(function(e){return e.theme.colors.secondary}),(function(e){return"".concat(e.theme.colors.secondary,"0f")}),(function(e){return e.selected?"border-left: 4px solid ".concat(e.theme.colors.secondary,";\n        color: ").concat(e.theme.colors.secondary,"; \n  font-weight: bold;"):"border-left: 4px solid ".concat(e.theme.colors.secondary,"44;\n      color: ").concat(e.theme.colors.secondary,"44;\n  font-weight: normal;")})),mt=l.b.div(at()),pt=(l.b.p(rt()),l.b.p(tt())),bt=l.b.div(nt()),vt=l.b.div(et()),ht=Object(l.b)(O)($n()),gt=Object(l.b)(P)(Xn()),xt=Object(l.b)(_)(Mn()),Et=l.b.div(Kn()),jt=l.b.input(Zn(),(function(e){return e.theme.colors.secondary})),Ot=l.b.i(Hn(),(function(e){return e.theme.colors.secondary}),(function(e){return e.danger&&"\n    color: ".concat(e.theme.colors.danger," !important;\n  ")})),yt=l.b.div(Gn()),wt=l.b.div(Yn()),kt=l.b.div(Wn()),Ct=Object(l.b)(xt)(Vn()),St=t(25),It={title:"",options:["ion 1"]};function Nt(e){var n=e.history,t=Object(r.useState)([Object(p.a)({},It)]),o=Object(i.a)(t,2),c=o[0],l=o[1],u=Object(r.useState)(0),s=Object(i.a)(u,2),d=s[0],f=s[1],m=Object(r.useState)([]),b=Object(i.a)(m,2),v=b[0],h=b[1],g=Object(r.useState)(""),x=Object(i.a)(g,2),E=x[0],j=x[1],O=Object(r.useState)(""),y=Object(i.a)(O,2),w=y[0],k=y[1];Object(r.useEffect)((function(){var e;h((null===(e=c[d])||void 0===e?void 0:e.options)||[])}),[d]),Object(r.useEffect)((function(){var e;j((null===(e=c[d])||void 0===e?void 0:e.title)||"")}),[d]);Object(r.useEffect)((function(){Object(St.debounce)((function(){return e=d,n=v,Object(Rn.a)(c)[e].options=n||v,void l(c);var e,n}),100)()}),[v]),Object(r.useEffect)((function(){Object(St.debounce)((function(){return e=d,n=E,Object(Rn.a)(c)[e].title=n||E,void l(c);var e,n}),100)()}),[E]);var C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"IDLE",t={title:w,description:"",questions:c.map((function(e){return Object(p.a)({},e,{options:Object(St.uniqBy)(e.options,(function(e){return e}))})})),status:e};c.some((function(e){return!e.title}))&&Tn.b.error("Error: Some question(s) are untitled"),ne.post("/surveys",t).then((function(){Tn.b.success("\u2611 Survey created successfuly!"),n.push("/")})).catch((function(e){var n,t;Tn.b.error("Error creating survey: "+(null===e||void 0===e?void 0:null===(n=e.response)||void 0===n?void 0:null===(t=n.data)||void 0===t?void 0:t.message)||!1)}))};return a.a.createElement(ut,null,a.a.createElement(He,{createSurvey:!1,leftButtons:[a.a.createElement(gt,{color:"green",onClick:function(){return C("ACTIVE")}},"Save And Publish"),a.a.createElement(gt,{color:"purple",onClick:function(){return C("IDLE")}},"Save")]}),a.a.createElement(kt,null,a.a.createElement(Ct,{placeholder:"Survey Name",value:w,onChange:function(e){return k(e.target.value)}})),a.a.createElement(st,null,a.a.createElement(dt,null,a.a.createElement(gt,{color:"green",rightIcon:"add",onClick:function(){c.length>=10?Tn.b.error("You can only have up to 10 questions"):l([].concat(Object(Rn.a)(c),[Object(p.a)({},It)]))}},"New Question"),null===c||void 0===c?void 0:c.map((function(e,n){return a.a.createElement(ft,{selected:d===n,onClick:function(){return function(e){f(e)}(n)}},a.a.createElement(mt,null,a.a.createElement(pt,null,e.title||"Untitled")))})),a.a.createElement(W,{height:"10px;"})),a.a.createElement(vt,null,a.a.createElement(ht,null,a.a.createElement(yt,null,a.a.createElement(xt,{onChange:function(e){var n=e.target.value;j(n)},value:E,placeholder:"question"}),a.a.createElement(bt,null,a.a.createElement(gt,{color:"danger",onClick:function(){return function(e){if(1!==c.length){var n=Object(Rn.a)(c);n.splice(e,1),l(n),f(0)}else Tn.b.error("You need at least one question")}(d)}},a.a.createElement(Ot,{className:"material-icons left"},"cancel"),"Delete Question"))),v.map((function(e,n){return a.a.createElement(Et,null,a.a.createElement(Ot,{className:"material-icons left"},"menu"),a.a.createElement(jt,{placeholder:"Option",value:e,onChange:function(e){return function(e,n){var t=e.target.value,r=Object(Rn.a)(v);r[n]=t,h(r)}(e,n)}}),a.a.createElement(wt,{onClick:function(){return function(e){if(1!==v.length){var n=Object(Rn.a)(v);n.splice(e,1),h(n)}else Tn.b.error("You need at least one option")}(n)}},a.a.createElement(Ot,{className:"material-icons left"},"cancel")))})),a.a.createElement(gt,{color:"green",rightIcon:"add",onClick:function(){if(v.length>=5)Tn.b.error("You can only add a maximum of 5 options");else{var e=[].concat(Object(Rn.a)(v),["Option"]);h(e)}}},"Add")))))}var zt=function(e){var n,t,o=e.component,c=Object(x.a)(e,["component"]),i=Object(r.useContext)(d).user,l="COORDINATOR"===(null===i||void 0===i?void 0:null===(n=i.data)||void 0===n?void 0:null===(t=n.role)||void 0===t?void 0:t.toUpperCase());return a.a.createElement(s.b,Object.assign({},c,{render:function(e){return!0===l?a.a.createElement(o,e):a.a.createElement(s.a,{to:"/"})}}))};t(81),t(82);var At=function(){var e=Object(r.useState)({isLoggedIn:!1}),n=Object(i.a)(e,2),t=n[0],o=n[1];return Object(r.useEffect)((function(){var e=localStorage.getItem("user");e&&(e=JSON.parse(e),o(e))}),[]),a.a.createElement(l.a,{theme:re},a.a.createElement(d.Provider,{value:{user:t,setUser:o}},a.a.createElement(u.a,{basename:"/"},a.a.createElement(s.d,null,a.a.createElement(zt,{path:"/create",component:Nt}),a.a.createElement(s.b,{exact:!0,path:"/survey/:surveyId/complete",component:_n}),a.a.createElement(s.b,{exact:!0,path:"/survey/:surveyId",component:_n}),a.a.createElement(s.b,{exact:!0,path:"/survey/:surveyId/questions/:questionId",component:_n}),a.a.createElement(s.b,{path:"/register",component:rn}),a.a.createElement(s.b,{path:"/results/:id",component:dn,exact:!0}),a.a.createElement(s.b,{path:"/login",component:te}),a.a.createElement(s.b,{path:"/",component:Ze}))),a.a.createElement(Tn.a,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(At,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[48,1,2]]]);
//# sourceMappingURL=main.ee7a0a02.chunk.js.map